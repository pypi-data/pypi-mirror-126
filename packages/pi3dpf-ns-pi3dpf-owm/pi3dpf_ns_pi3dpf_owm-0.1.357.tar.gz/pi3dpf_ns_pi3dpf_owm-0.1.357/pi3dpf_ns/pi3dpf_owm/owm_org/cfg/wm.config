# Hints:
#   The environment variables HOME, HOSTNAME, PF_ROOT and THIS_DIR are expanded if written in the form '$HOME', '$HOSTNAME', '$PF_ROOT' or 'THIS_DIR'.
#   A parameter value in the form '!SECRET par_name' will be searched as 'par_name: your-secret' in all files specified by SECRETS_PATH.
#   In above example, the return value would be 'your-secret'. You MUST add an entry like 'par_name: your-secret' in the secrets file.
#
# CAVEAT:
#   You MUST use %% to escape % in parameter values, because interpolation used by configparser.ConfigParser() is
#   expecting patterns such as %(parameter)s and fails on single '%'. (In other words, parameter values like 'ABC%DEF'
#   will cause configparser.ConfigParser() to throw an error. Write 'ABC%%DEF' instead.)
#   Passwords configured using !SECRET syntax are not affected, as they are in a file not interpreted by configparser.ConfigParser().
#
#
# [your-raspberry-hostname] is a section allowing you to add host specific parameters.
[your-raspberry-hostname]
# add host specific parameters here. Any of below parameters can be used here and will only take effect on the named host.
#
#[add-your-2nd-host-name-here] ; after uncommenting...
#
[DEFAULT]
# Do not add passwords or API keys to this file. Put them into one of the files specified in the SECRETS_PATH. This allows to share this config file with others. See $PF_ROOT/etc/examples/pf_secrets.example.txt
SECRETS_PATH                         : $HOME/.pf/pf_secrets:/etc/pf_secrets ; you may add more (first file will take precendence over the following ones)
#   register at openweathermap.org to get your own api key!
OWM_API_KEY                          : !SECRET owm_api_key
# OWM_CITY_IDS:
#   find your city: http://bulk.openweathermap.org/sample/city.list.json.gz
#   2657896: Zürich, 2658656: Zürich (Kreis 11) / Seebach, 1120449: Mae Taeng, 1605245: Ubon Ratchathani, 1609350: Bangkok
#   list of ID, e.g. id=2658656,1120449 are supported
#   For the weather condition {description}, you may specify the language(s).
#   For example, if you wish to show English and Thai weather descriptions for Bangkok, use: 1609350:en+th
OWM_CITY_IDS                         : 2657896:de, 1120449:en+th

LOG_LEVEL                            : INFO ; for LOG_LEVEL, use one of DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_DIR                              : %(OWM_HOME_DIR)s/logs
OWM_HOME_DIR                         : /home/pi/.pf
OWM_DATA_DIR                         : %(OWM_HOME_DIR)s/owm-n

#
# Widely used time formats:
#             12:57    - %%H:%%M
#         Mon 12:57    - %%a %%H:%%M
#  2020-05-11 12:57    - %%Y-%%m-%%d %%H:%%M
#  05/22/2020 07:28 PM - %%m/%%d/%%Y %%I:%%M %%p
# see https://docs.python.org/3.8/library/time.html#time.strftime for more information
#
OWM_SUNRISE_SUNSET_DTFORMAT          : %%H:%%M ; 24h format
OWM_UNITS                            : metric ; use one of: metric, imperial
OWM_DT_FORMAT                        : %%Y-%%m-%%d %%H:%%M ; long format, internal use only
OWM_DATE_FORMAT                      : %%b %%d ; date format shown on new day
OWM_TIME_FORMAT                      : %%H:%%M ; time format shown every hour
# OWM_THAI_BA_DTFORMAT: supported formats as in https://thainlp.org/pythainlp/docs/2.0/api/util.html#pythainlp.util.thai_strftime
# Formatting Examples:
#               %%v -  9-ก.ย.-2564
#   %%A %%d %%B %%Y - วันจันทร์ 11 พฤษภาคม 2563
OWM_THAI_BA_DTFORMAT                 : %%A %%d %%B %%Y ; format for thai time, see examples above

OWM_LIBREOFFICE_PNG_CONVERT_CMD      : $PF_ROOT/bin/convert_to_png.sh ; path to script doing all the magic
OWM_FT_FONT                          : $THIS_DIR/../../../pi3dpf_common/fonts/NotoSans+Thai+Weather.ttf ; combined font, make sure it contains all codepoints you add to PI3D_FT_CODEPOINT_RANGES

########################################################################################################################
##  OWM_NOW_... parameters retrieve the current weather of given cities
########################################################################################################################
## === start from pf.config (pi3dpf)
# Parameters related to the Open Weather Map (OWM) service
OWM_NOW_RETRIEVE_LOCAL_WEATHER       : yes ;  if both OWM_NOW_LIBREOFFICE_TEMPLATE_USE and OWM_NOW_FORMATSTRING are set to 'off', OWM_NOW_RETRIEVE_LOCAL_WEATHER will be set to no.
OWM_NOW_REFRESH_RATE                 : 30 ; waiting period in minutes between calls to openweathermap.org. As of 2020-05-10, requests are limited to 500 per day. Note that a call must be made per language
OWM_NOW_CITY_DTFORMAT                : %%a %%H:%%M ; time format for main time entry provided by OWM
OWM_NOW_BASE_URL                     : http://api.openweathermap.org/data/2.5/group?units=%(OWM_UNITS)s
#
# OWM_NOW_FORMATSTRING can be specified as follows:
#  1. Fields from OWM:
#             {city}: City in text form as provided by OWM
#        {longitude}: longitude of given place/city as provided by OWM
#         {latitude}: latitude of given place/city as provided by OWM
#       {local_time}: describes age of weather information. Adheres to the time format specified in OWM_NOW_CITY_DTFORMAT
#  {local_time_thba}: adheres to the Thai time format specified in OWM_THAI_BA_DTFORMAT
#      {description}: description of current weather condition. Multiple languages supported. See OWM_CITY_IDS for details
#        {icon_only}: skip description, but display the icon normaly assigned to {description} (for brevity)
#          {sunrise}: local time of requested place. Adheres to the time format specified in OWM_SUNRISE_SUNSET_DTFORMAT
#           {sunset}: local time of requested place. Adheres to the time format specified in OWM_SUNRISE_SUNSET_DTFORMAT
#         {moonrise}: local time of requested place. Adheres to the time format specified in OWM_SUNRISE_SUNSET_DTFORMAT. Localy calculated
#          {moonset}: local time of requested place. Adheres to the time format specified in OWM_SUNRISE_SUNSET_DTFORMAT. Localy calculated
#        {moon_icon}: icon showing the current moon phase. Moon phase is localy calculated
#               {tz}: always in form GMT+n/GMT-n. (not tested on cities in timezones outside a 1h range.)
#             {temp}: always in 0.1 of degree precision (e.g. 22.2), unit °C if OWM_UNITS set to 'metric' else °F
#        {temp_felt}: see {temp}
#         {temp_min}: see {temp}
#         {temp_max}: see {temp}
#         {pressure}: always in hPa
#         {humidity}: always in %
#
#  2. positions.txt:
#    For additional positioning and formating options, see positions.txt (Or whatever the file's name was defined in PIC_TEXT_POSITION_FILE)
#    Note that if more than one city is selected in OWM_CITY_IDS, there is one sting per city, formated as per OWM_NOW_FORMATSTRING.
#    If you want to concatenate ALL citys to one string, use OWM_NOW_FORMATSTRING_CONCATENATE=True
#    To position the first city, add a line 'owm_now_formatstring.0' to position.txt, the 2nd 'owm_now_formatstring.1'
#
#  3. Formatting instructions:
#                 \n: use \n to break the line into several text blocks
#
#  4. Turn off this function by specifying 'OWM_NOW_FORMATSTRING : off/False'
#
OWM_NOW_FORMATSTRING_USE             : True ; True or False
OWM_NOW_FORMATSTRING_CONCATENATE     : ...  ; use 'False' or arbitrary characters (e.g. '...') to be used to delimit multiple cities. Only effective when more than one city specified in OWM_CITY_IDS.
OWM_NOW_FORMATSTRING                 : {city}: {local_time} {local_time_thba} {description} {sunrise}/{sunset} {moon_icon} {moonrise}/{moonset} {temp} {temp_felt} min:{temp_min} max:{temp_max} {pressure} {humidity}
#
# template 'OWM_NOW_LIBREOFFICE_TEMPLATE_IN=owm-weather-now-2-cities.odp' takes the same names as shown in above section
# '1. Fields from OWM', with the following exceptions:
#   - parameters in templates use  the form $city instead of {city}.
#   - if you request more than one location in OWM_CITY_IDS, you must append the field with the city id, e.g. $city2657896
#  To use owm-weather-now-2-cities.odp, you must use LibreOffice Impress (LO) to edit the file owm-weather-now-2-cities.odp.
# LibreOffice write, calc and draw would also work but are not recommended.
#
# old: PIC_LIBREOFFICE_TEMPLATE new: OWM_NOW_LIBREOFFICE_TEMPLATE_USE
OWM_NOW_LIBREOFFICE_TEMPLATE_USE     : on ; valid options: 'on' or 'off'
OWM_NOW_LIBREOFFICE_TEMPLATE_IN      : $THIS_DIR/templates/owm-weather-now-2-cities.odp ; the template to modify as you wish
# CAVEAT:
#   libreoffice's 'soffice' command will re-use the input file name (OWM_NOW_LIBREOFFICE_PRINT_READY) for the output file name (OWM_NOW_LIBREOFFICE_BITMAP_OUT).
#   So make sure the file names (without extensions) of above two parameters are NOT the same
OWM_NOW_LIBREOFFICE_PRINT_READY      : %(OWM_DATA_DIR)s/now/owm-weather-now-out.odp   ; this file will be overwritten by the picture frame program in the interval defined in OWM_NOW_REFRESH_RATE
OWM_NOW_LIBREOFFICE_BITMAP_OUT       : %(OWM_DATA_DIR)s/now/owm-weather-now.png   ; expanded information generated using template OWM_NOW_LIBREOFFICE_PRINT_READY will be rendered as transparent png in this file

OWM_SCIS_BMP_DIR                     : %(OWM_DATA_DIR)s/now

########################################################################################################################
##  OWM_5d3h_... parameters retrieve the weather of the next 5 days in 3h intervals
########################################################################################################################

OWM_5D3H_BASE_URL                    : https://api.openweathermap.org/data/2.5/forecast
OWM_5D3H_SHOW_REQUEST_DETAIL         : False
OWM_5D3H_LIBREOFFICE_TEMPLATE_USE    : on ; valid options: 'on' or 'off'
OWM_5D3H_LIBREOFFICE_TEMPLATE_IN     : $THIS_DIR/templates/owm-weather-5d3h.ods ; the template to modify as you wish
OWM_5D3H_DATA_RANGE                  : worksheet=data - 5d - 3hourly, top_left_cell=B9 ; reading external data (as data source) prooved difficult
OWM_5D3H_LIBREOFFICE_PRINT_READY     : owm-weather-5d3h.ods   ; this file will be overwritten by the picture frame program in the interval defined in OWM_NOW_REFRESH_RATE
OWM_5D3H_LIBREOFFICE_BITMAP_OUT      : owm-weather-5d3h.png   ; expanded information generated using template OWM_NOW_LIBREOFFICE_PRINT_READY will be rendered as transparent png in this file

# From: http://pi3d.github.io/html/pi3d.html#pi3d.Texture.Texture
#    NB images loaded as textures can cause distortion effects unless they are certain sizes (below).
#    If the image width is a value not in this list then it will be rescaled with a resulting loss of clarity
#    Allowed widths 4, 8, 16, 32, 48, 64, 72, 96, 128, 144, 192, 256, 288, 384, 512, 576, 640, 720, 768, 800, 960, 1024, 1080, 1920
# It is recommended to select value for OWM_5D3H_LIBREOFFICE_BITMAP_MAX_WIDTH from above allowed widths.
OWM_5D3H_LIBREOFFICE_BITMAP_MAX_WIDTH: 640 ; max witdh in px. The Libre Calc printout is A2 and needs to be shrunk
# keep this comment line for bash scripts reading this file to work as expected