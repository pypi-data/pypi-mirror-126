"use strict";(self.webpackChunkrichie_education=self.webpackChunkrichie_education||[]).push([[2007],{35164:function(t,e,r){r.d(e,{vt:function(){return h},tV:function(){return f},Fz:function(){return y},Pq:function(){return p}}),r(32390),r(54883),r(10853),r(35054),r(45007),r(68995),r(73214),r(19701),r(19457),r(54994),r(42900),r(21496);var n=r(89526),a=r(7124),o=r(19898),u=(r(55862),r(1368)),i=r(69701);function c(t,e,r,n,a,o,u){try{var i=t[o](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,a)}var s=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r,n){var a,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1.0/".concat(e,"/autocomplete/?").concat((0,i.stringify)({query:n})),{headers:{"Content-Type":"application/json"}});case 3:a=t.sent,t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",(0,o.p)(t.t0));case 9:if(a.ok){t.next=22;break}if(c=new Error("Failed to get list from ".concat(e," autocomplete : ").concat(a.status)),400!==a.status){t.next=20;break}return t.t2=o.p,t.t3=c,t.next=16,a.json();case 16:t.t4=t.sent,t.t1=(0,t.t2)(t.t3,t.t4),t.next=21;break;case 20:t.t1=(0,o.p)(c);case 21:return t.abrupt("return",t.t1);case 22:return t.prev=22,t.next=25,a.json();case 25:s=t.sent,t.next=31;break;case 28:return t.prev=28,t.t5=t.catch(22),t.abrupt("return",(0,o.p)(new Error("Failed to decode JSON in getSuggestionSection "+t.t5)));case 31:return t.abrupt("return",{kind:e,title:r,values:(0,u.Z)(s,3)});case 32:case"end":return t.stop()}}),t,null,[[0,6],[22,28]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function u(t){c(o,n,a,u,i,"next",t)}function i(t){c(o,n,a,u,i,"throw",t)}u(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();function l(t,e,r,n,a,o,u){try{var i=t[o](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,a)}var f=function(t){return t.title},p=function(t){return n.createElement("span",null,t.title)},d=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,r,n){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length<3)){t.next=2;break}return t.abrupt("return",r([]));case 2:return t.prev=2,t.t0=Promise,t.t1=Object,t.next=7,e;case 7:return t.t2=t.sent,t.t3=t.t1.values.call(t.t1,t.t2).filter((function(t){return t.is_autocompletable})).map((function(t){return s(t.name,t.human_name,n)})),t.next=11,t.t0.all.call(t.t0,t.t3);case 11:a=t.sent,t.next=17;break;case 14:return t.prev=14,t.t4=t.catch(2),t.abrupt("return",(0,o.p)(t.t4));case 17:r(a.filter((function(t){return!!t.values.length})));case 18:case"end":return t.stop()}}),t,null,[[2,14]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function u(t){l(o,n,a,u,i,"next",t)}function i(t){l(o,n,a,u,i,"throw",t)}u(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),y=(0,a.Z)(d,200,{maxWait:1e3}),h=function(t,e){var r=Object.values(t).find((function(t){return t.name===e.kind}));return r||(r=Object.values(t).find((function(t){return!!t.base_path&&String(e.id).substr(2).startsWith(t.base_path)}))),r}},63456:function(t,e,r){r.d(e,{M:function(){return u}});var n=r(89526),a=r(34323),o=(0,a.vU)({button:{id:"components.SearchInput.button",defaultMessage:[{type:0,value:"Search"}]}}),u=function(t){var e=t.inputProps,r=t.onClick,u=void 0===r?function(){}:r;return n.createElement("div",{className:"search-input"},n.createElement("input",e),n.createElement("button",{className:"search-input__btn",onClick:u},n.createElement("svg",{"aria-hidden":!0,role:"img",className:"icon search-input__btn__icon"},n.createElement("use",{xlinkHref:"#icon-magnifying-glass"}))," ",n.createElement("span",{className:"offscreen"},n.createElement(a._H,o.button))))}},2007:function(t,e,r){r.r(e),r(32390),r(18183),r(19985),r(73214),r(29897),r(54883),r(10853),r(68995),r(26364),r(86632),r(61928),r(45007),r(18821),r(54994),r(4845),r(39275),r(35054);var n=r(7124),a=r(89526),o=r(80292),u=r.n(o),i=r(34323),c=r(35164),s=r(63456),l=r(47026),f=r(33469);function p(t,e,r,n,a,o,u){try{var i=t[o](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,a)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function u(t){p(o,n,a,u,i,"next",t)}function i(t){p(o,n,a,u,i,"throw",t)}u(void 0)}))}}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],u=!0,i=!1;try{for(r=r.call(t);!(u=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);u=!0);}catch(t){i=!0,a=t}finally{try{u||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=(0,i.vU)({searchFieldPlaceholder:{id:"components.SearchSuggestField.searchFieldPlaceholder",defaultMessage:[{type:0,value:"Search for courses, organizations, categories"}]}});e.default=function(t){var e=t.context,r=(0,i.YB)(),o=(0,f.U)(),p=(0,l.T)(),h=p.courseSearchParams,m=p.dispatchCourseSearchParamsUpdate,b=p.lastDispatchActions,g=y((0,a.useState)(h.query||""),2),w=g[0],S=g[1],O=y((0,a.useState)([]),2),j=O[0],P=O[1];(0,a.useEffect)((function(){!h.query&&null!=b&&b.map((function(t){return t.type})).includes(l.Y.filterReset)&&w&&S("")}),[b]);var A=(0,a.useCallback)((function(t,e){var r=e.method,n=e.newValue;"type"===r&&(0===n.length||n.trim().length>=3)&&m({query:n,type:l.Y.queryUpdate})}),[h]),x=(0,a.useCallback)((0,n.Z)(A,500,{maxWait:1100}),[A]),E={onChange:function(t,e){var r=e.method,n=e.newValue;S(n),x(t,{method:r,newValue:n})},onKeyDown:function(t){13!==t.keyCode||w||m({query:"",type:l.Y.queryUpdate})},placeholder:r.formatMessage(v.searchFieldPlaceholder),value:w},k=function(){var t=d(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.suggestion,t.t0=c.vt,t.next=4,o();case 4:t.t1=t.sent,t.t2=n,a=(0,t.t0)(t.t1,t.t2),m({query:"",type:l.Y.queryUpdate},{filter:a,payload:String(n.id),type:l.Y.filterAdd}),S(""),P([]);case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return a.createElement(u(),{getSectionSuggestions:function(t){return t.values},getSuggestionValue:c.tV,inputProps:E,multiSection:!0,onSuggestionsClearRequested:function(){return P([])},onSuggestionsFetchRequested:function(){var t=d(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.value,t.t0=c.Fz,t.next=4,o();case 4:return t.t1=t.sent,t.t2=P,t.t3=r,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuggestionSelected:k,renderInputComponent:function(t){return a.createElement(s.M,{context:e,inputProps:t})},renderSectionTitle:function(t){return t.title},renderSuggestion:c.Pq,shouldRenderSuggestions:function(t){return t.length>2},suggestions:j})}},47026:function(t,e,r){r.d(e,{Y:function(){return f},T:function(){return b}}),r(54994),r(19701),r(10853),r(193),r(39275),r(23528),r(55862),r(80044),r(26364),r(80238),r(6208),r(12938),r(86632),r(61928),r(54883),r(45007),r(68995),r(18821),r(4845);var n=r(69701),a=r(89526),o=r(60696),u=r(95418),i=r(68919),c=r(1760);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f,p=function(t,e){var r,n,a,o;return e.isDrilldown?(n={},l(n,f.filterAdd,(function(){return e.payload})),l(n,f.filterRemove,(function(){return t===e.payload?void 0:t||void 0})),n)[e.action]():t?"string"==typeof t?(o={},l(o,f.filterAdd,(function(){return t===e.payload?[t]:(0,c.wE)(t,e.payload)||(0,c.J2)(t,e.payload)?[e.payload]:[t,e.payload]})),l(o,f.filterRemove,(function(){return t===e.payload?void 0:t})),o)[e.action]():(r={},l(r,f.filterAdd,(function(){return[].concat(function(t){if(Array.isArray(t))return s(t)}(r=t.filter((function(t){return t!==e.payload&&!(0,c.wE)(t,e.payload)&&!(0,c.J2)(t,e.payload)})))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.payload]);var r})),l(r,f.filterRemove,(function(){return 0===(r=t.filter((function(t){return t!==e.payload}))).length?void 0:r;var r})),r)[e.action]():(a={},l(a,f.filterAdd,(function(){return[e.payload]})),l(a,f.filterRemove,(function(){})),a)[e.action]()};function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){t.filterReset="FILTER_RESET",t.filterAdd="FILTER_ADD",t.filterRemove="FILTER_REMOVE",t.pageChange="PAGE_CHANGE",t.queryUpdate="QUERY_UPDATE"}(f||(f={}));var m=function(t,e){switch(e.type){case f.pageChange:return h(h({},t),{},{offset:e.offset});case f.queryUpdate:return h(h({},t),{},{offset:"0",query:e.query||void 0});case f.filterAdd:case f.filterRemove:return h(h({},t),{},v({offset:"0"},e.filter.name,p(t[e.filter.name],{action:e.type,isDrilldown:!!e.filter.is_drilldown,payload:e.payload})));case f.filterReset:return h(h({},u.e_),{},{limit:t.limit})}},b=function(){var t,e,r,c=(e=(0,o.k6)(),r=3,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],u=!0,i=!1;try{for(r=r.call(t);!(u=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);u=!0);}catch(t){i=!0,a=t}finally{try{u||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,r)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],l=c[1],f=c[2],p=s.state.data.params;return(0,a.useEffect)((function(){if(!p.limit||!p.offset){var t=h(h({},u.e_),p);f({name:"courseSearch",data:{params:t,lastDispatchActions:null}},"","".concat(i.xh.pathname,"?").concat((0,n.stringify)(t)))}}),[(0,n.stringify)(p)]),{courseSearchParams:p,dispatchCourseSearchParamsUpdate:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=e.reduce(m,p);(0,n.stringify)(a)!==(0,n.stringify)((0,n.parse)(i.xh.search))?l({name:"courseSearch",data:{params:a,lastDispatchActions:e}},"","".concat(i.xh.pathname,"?").concat((0,n.stringify)(a))):f({name:"courseSearch",data:{params:a,lastDispatchActions:e}},"","".concat(i.xh.pathname,"?").concat((0,n.stringify)(a)))},lastDispatchActions:null===(t=s.state.data)||void 0===t?void 0:t.lastDispatchActions}}},33469:function(t,e,r){r.d(e,{U:function(){return d}}),r(32390),r(10853),r(35054),r(26364),r(86632),r(61928),r(54883),r(45007),r(68995),r(18821),r(54994),r(4845),r(39275),r(80044),r(19701),r(80238),r(6208),r(12938);var n=r(89526),a=r(3787);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e,r,n,a,o,u){try{var i=t[o](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,a)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function u(t){c(o,n,a,u,i,"next",t)}function i(t){c(o,n,a,u,i,"throw",t)}u(void 0)}))}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o=[],u=!0,i=!1;try{for(r=r.call(t);!(u=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);u=!0);}catch(t){i=!0,a=t}finally{try{u||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p={base_path:null,human_name:"Courses",is_autocompletable:!0,is_searchable:!0,name:"courses",position:99},d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,n.useState)(!1),r=l(e,2),o=r[0],i=r[1],c=(0,n.useRef)(null),f=(0,n.useState)((function(){return new Promise((function(t){return c.current=t}))})),d=l(f,1),y=d[0];return(0,a.b)(s(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=10;break}return e.next=3,fetch("/api/v1.0/filter-definitions/");case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Failed to get filter definitions.");case 6:return e.next=8,r.json();case 8:n=e.sent,c.current(u(u({},n),t?{courses:p}:{}));case 10:case"end":return e.stop()}}),e)}))),[o]),function(){return i(!0),y}}},1760:function(t,e,r){r.d(e,{wE:function(){return a},J2:function(){return o},aj:function(){return u}}),r(39275),r(75668),r(21496);var n=function(t){return t.length%4==2&&!!t.match(/[P,L]-[0-9A-Z]{4,}/)},a=function(t,e){return n(t)&&n(e)&&e.substr(2).startsWith(t.substr(2))},o=function(t,e){return a(e,t)},u=function(t){if(!n(t))throw new Error("".concat(t," is not an MPTT path, cannot build a children path matcher."));return".-".concat(t.substr(2),".{4,}")}}}]);
//# sourceMappingURL=2007.e894b2552334d7259027.index.js.map