(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{516:function(e,t,n){"use strict";var r=n(4).default.extend({props:{title:{type:String,default:"",required:!0},cancelText:{type:String,default:""},agreeText:{type:String,default:""},disabled:{type:Boolean,default:!1}},methods:{agree:function(){this.$emit("agree")},cancel:function(){this.$emit("cancel")}}}),l=n(39),o=n(42),c=n.n(o),d=n(258),f=n(519),m=n(515),v=n(577),x=n(74),h=n(231),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-toolbar",{attrs:{color:"primary white--text",flat:""}},[n("v-toolbar-title",[e._v(e._s(e.title))])],1),e._v(" "),n("v-card-text",{staticClass:"text--primary mt-3 pl-4"},[e._t("content")],2),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),e.cancelText?n("v-btn",{staticClass:"text-capitalize",attrs:{text:"",color:"primary","data-test":"cancel-button"},on:{click:e.cancel}},[e._v("\n      "+e._s(e.cancelText)+"\n    ")]):e._e(),e._v(" "),e.agreeText?n("v-btn",{staticClass:"text-none",attrs:{disabled:e.disabled,text:"","data-test":"delete-button"},on:{click:e.agree}},[e._v("\n      "+e._s(e.agreeText)+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VCard:f.a,VCardActions:m.a,VCardText:m.b,VSpacer:v.a,VToolbar:x.a,VToolbarTitle:h.a})},522:function(e,t,n){"use strict";var r=n(4),l=n(516),o=r.default.extend({components:{BaseCard:l.a},props:{title:{type:String,default:"",required:!0},message:{type:String,default:"",required:!0},items:{type:Array,default:function(){return[]},required:!1},itemKey:{type:String,default:"",required:!1},buttonTrueText:{type:String,default:"Yes"},buttonFalseText:{type:String,default:"Cancel"}},methods:{ok:function(){this.$emit("ok")},cancel:function(){this.$emit("cancel")}}}),c=n(39),d=n(42),f=n.n(d),m=n(219),v=n(136),x=n(53),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-card",{attrs:{title:e.title,"agree-text":e.buttonTrueText,"cancel-text":e.buttonFalseText},on:{agree:e.ok,cancel:e.cancel},scopedSlots:e._u([{key:"content",fn:function(){return[e._v("\n    "+e._s(e.message)+"\n    "),n("v-list",{attrs:{dense:""}},e._l(e.items,(function(t,i){return n("v-list-item",{key:i},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t[e.itemKey]))])],1)],1)})),1)]},proxy:!0}])})}),[],!1,null,null,null);t.a=component.exports;f()(component,{VList:m.a,VListItem:v.a,VListItemContent:x.a,VListItemTitle:x.c})},585:function(e,t,n){"use strict";var r=n(4).default.extend({props:{text:{type:String,default:"Actions"},items:{type:Array,default:function(){return[]},required:!0}}}),l=n(39),o=n(42),c=n.n(o),d=n(258),f=n(218),m=n(219),v=n(136),x=n(53),h=n(116),_=n(495),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"offset-y":"","open-on-hover":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({attrs:{color:"primary text-capitalize"}},r),[e._v("\n      "+e._s(e.text)+"\n      "),n("v-icon",[e._v("mdi-menu-down")])],1)]}}])},[e._v(" "),n("v-list",e._l(e.items,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.$emit(t.event)}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1)],1)}),[],!1,null,null,null);t.a=component.exports;c()(component,{VBtn:d.a,VIcon:f.a,VList:m.a,VListItem:v.a,VListItemContent:x.a,VListItemIcon:h.a,VListItemTitle:x.c,VMenu:_.a})},624:function(e,t,n){var content=n(848);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(29).default)("4ed0d700",content,!0,{sourceMap:!1})},847:function(e,t,n){"use strict";n(624)},848:function(e,t,n){var r=n(28)(!1);r.push([e.i,"[data-v-6d497e2e] .v-dialog{width:800px}",""]),e.exports=r},883:function(e,t,n){"use strict";n.r(t);var r=n(0),l=(n(16),n(10),n(11),n(4)),o=n(585),c=l.default.extend({components:{ActionMenu:o.a},computed:{items:function(){return[{title:this.$t("links.createLink"),icon:"mdi-pencil",event:"create"}]}}}),d=n(39),f=Object(d.a)(c,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("action-menu",{attrs:{items:e.items,text:e.$t("dataset.actions")},on:{create:function(t){return e.$emit("create")},upload:function(t){return e.$emit("upload")},download:function(t){return e.$emit("download")}}})}),[],!1,null,null,null).exports,m=(n(45),n(54),n(35),n(55),n(516)),v=l.default.extend({components:{BaseCard:m.a},props:{name:{type:String,default:"",required:!0},suffixKey:{type:String,default:null},color:{type:String,default:"#ffffff",required:!0},usedNames:{type:Array,default:function(){return[]},required:!0}},data:function(){var e=this;return{valid:!1,rules:{required:function(e){return!!e||"Required"},counter:function(t){return t&&t.length<=100||e.$t("rules.labelNameRules").labelLessThan100Chars},nameDuplicated:function(t){return!e.usedNames.includes(t)||e.$t("rules.labelNameRules").duplicated},keyDuplicated:function(t){return!e.usedKeys.includes(t)||e.$t("rules.keyNameRules").duplicated}}}},computed:{shortkeys:function(){return"0123456789abcdefghijklmnopqrstuvwxyz".split("")}},methods:{updateValue:function(e,t){this.$emit("update:".concat(e),t)}}}),x=n(42),h=n.n(x),_=n(896),y=n(589),$=n(533),k=Object(d.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-card",{attrs:{disabled:!e.valid,title:e.$t("labels.createLink"),"agree-text":e.$t("generic.save"),"cancel-text":e.$t("generic.cancel")},on:{agree:function(t){return e.$emit("save")},cancel:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"content",fn:function(){return[n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{value:e.name,label:e.$t("labels.linkName"),rules:[e.rules.required,e.rules.counter,e.rules.nameDuplicated],"prepend-icon":"label","single-line":"",counter:"",autofocus:""},on:{input:function(t){return e.updateValue("name",t)}}}),e._v(" "),n("v-color-picker",{attrs:{value:e.color,rules:[e.rules.required],"show-swatches":"","hide-mode-switch":"",width:"800"},on:{input:function(t){return e.updateValue("color",t)}}})],1)]},proxy:!0}])})}),[],!1,null,null,null),V=k.exports;h()(k,{VColorPicker:_.a,VForm:y.a,VTextField:$.a});var I=n(522),T=l.default.extend({components:{ConfirmForm:I.a},props:{selected:{type:Array,default:function(){return[]}}}}),C=Object(d.a)(T,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("confirm-form",{attrs:{items:e.selected,title:"Delete Label",message:e.$t("labels.deleteMessage"),"item-key":"text"},on:{ok:function(t){return e.$emit("remove")},cancel:function(t){return e.$emit("cancel")}}})}),[],!1,null,null,null).exports,w=l.default.extend({props:{isLoading:{type:Boolean,default:!1,required:!0},items:{type:Array,default:function(){return[]},required:!0},value:{type:Array,default:function(){return[]},required:!0}},data:function(){return{search:""}},computed:{headers:function(){return[{text:this.$t("generic.name"),value:"name"},{text:this.$t("labels.color"),value:"color"},{text:"Actions",value:"actions",sortable:!1}]}}}),j=n(612),L=n(891),D=n(218),S=Object(d.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-data-table",{attrs:{value:e.value,headers:e.headers,items:e.items,search:e.search,loading:e.isLoading,"loading-text":e.$t("generic.loading"),"no-data-text":e.$t("vuetify.noDataAvailable"),"footer-props":{showFirstLastPage:!0,"items-per-page-options":[5,10,15,e.$t("generic.all")],"items-per-page-text":e.$t("vuetify.itemsPerPageText"),"page-text":e.$t("dataset.pageText")},"item-key":"id","show-select":""},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-text-field",{attrs:{"prepend-inner-icon":"search",label:e.$t("generic.search"),"single-line":"","hide-details":"",filled:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]},proxy:!0},{key:"item.color",fn:function(t){return[n("v-chip",{attrs:{color:t.item.color,"text-color":e.$contrastColor(t.item.color)}},[e._v("\n      "+e._s(t.item.color)+"\n    ")])]}},{key:"item.actions",fn:function(t){var r=t.item;return[n("v-icon",{attrs:{small:""},on:{click:function(t){return e.$emit("edit",r)}}},[e._v("\n      mdi-pencil\n    ")])]}}],null,!0)})}),[],!1,null,null,null),O=S.exports;h()(S,{VChip:j.a,VDataTable:L.a,VIcon:D.a,VTextField:$.a});var R=l.default.extend({components:{ActionMenu:f,FormCreate:V,FormDelete:C,LinksList:O},layout:"project",validate:function(e){var t=e.params,n=e.app;return!!/^\d+$/.test(t.id)&&n.$services.project.findById(t.id).then((function(e){return e.canDefineRelation}))},data:function(){return{dialogCreate:!1,dialogDelete:!1,dialogUpload:!1,editedIndex:-1,editedItem:{text:"",color:"#ffffff"},defaultItem:{text:"",color:"#ffffff"},items:[],selected:[],isLoading:!1,errorMessage:""}},fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$services.linkTypes.list(e.projectId);case 3:e.items=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},computed:{canDelete:function(){return this.selected.length>0},projectId:function(){return this.$route.params.id},usedNames:function(){var e=this.items[this.editedIndex];return this.items.filter((function(t){return t!==e})).map((function(e){return e.text}))}},methods:{create:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$services.linkTypes.create(e.projectId,e.editedItem);case 2:case"end":return t.stop()}}),t)})))()},update:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$services.linkTypes.update(e.projectId,e.editedItem);case 2:case"end":return t.stop()}}),t)})))()},save:function(){this.editedIndex>-1?this.update():this.create(),this.$fetch(),this.close()},close:function(){var e=this;this.dialogCreate=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},remove:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$services.linkTypes.bulkDelete(e.projectId,e.selected);case 2:e.$fetch(),e.dialogDelete=!1,e.selected=[];case 5:case"end":return t.stop()}}),t)})))()},clearErrorMessage:function(){this.errorMessage=""},editItem:function(e){this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogCreate=!0}}}),A=(n(847),n(258)),E=n(519),F=n(515),M=n(580),B=Object(d.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("action-menu",{on:{create:function(t){e.dialogCreate=!0},upload:function(t){e.dialogUpload=!0}}}),e._v(" "),n("v-btn",{staticClass:"text-capitalize ms-2",attrs:{disabled:!e.canDelete,outlined:""},on:{click:function(t){t.stopPropagation(),e.dialogDelete=!0}}},[e._v("\n      "+e._s(e.$t("generic.delete"))+"\n    ")]),e._v(" "),n("v-dialog",{model:{value:e.dialogCreate,callback:function(t){e.dialogCreate=t},expression:"dialogCreate"}},[n("form-create",e._b({attrs:{"used-names":e.usedNames},on:{cancel:e.close,save:e.save}},"form-create",e.editedItem,!1,!0))],1),e._v(" "),n("v-dialog",{model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("form-delete",{attrs:{selected:e.selected},on:{cancel:function(t){e.dialogDelete=!1},remove:e.remove}})],1)],1),e._v(" "),n("links-list",{attrs:{items:e.items,"is-loading":e.isLoading},on:{edit:e.editItem},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),[],!1,null,"6d497e2e",null);t.default=B.exports;h()(B,{VBtn:A.a,VCard:E.a,VCardTitle:F.c,VDialog:M.a})}}]);