/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./web_src/ts/buffer_presenter/buffer_presentation.ts":
/*!************************************************************!*\
  !*** ./web_src/ts/buffer_presenter/buffer_presentation.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BufferPresentation = void 0;\nconst presentation_1 = __webpack_require__(/*! ../presenter/presentation */ \"./web_src/ts/presenter/presentation.ts\");\nconst buffer_section_1 = __webpack_require__(/*! ./buffer_section */ \"./web_src/ts/buffer_presenter/buffer_section.ts\");\nclass BufferPresentation extends presentation_1.Presentation {\n    constructor(cache_batch_size, past_sections_to_buffer, future_sections_to_buffer) {\n        super(cache_batch_size);\n        this.past_sections_to_buffer = past_sections_to_buffer;\n        this.future_sections_to_buffer = future_sections_to_buffer;\n    }\n    // buffer past and future videos\n    update_source() {\n        // load next sections\n        for (let i = this.current_section + 1, len = Math.min(this.current_section + this.future_sections_to_buffer + 1, this.sections.length); i < len; ++i)\n            this.sections[i].load();\n        // unload previous sections\n        for (let i = 0, len = this.current_section - this.past_sections_to_buffer; i < len; ++i)\n            this.sections[i].unload();\n    }\n    add_section(section, video) {\n        this.sections.push(new buffer_section_1.BufferSection(section, video));\n    }\n}\nexports.BufferPresentation = BufferPresentation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2J1ZmZlcl9wcmVzZW50ZXIvYnVmZmVyX3ByZXNlbnRhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hbmltX2VkaXRvci8uL3dlYl9zcmMvdHMvYnVmZmVyX3ByZXNlbnRlci9idWZmZXJfcHJlc2VudGF0aW9uLnRzP2Y0ZDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJ1ZmZlclByZXNlbnRhdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHByZXNlbnRhdGlvbl8xID0gcmVxdWlyZShcIi4uL3ByZXNlbnRlci9wcmVzZW50YXRpb25cIik7XG5jb25zdCBidWZmZXJfc2VjdGlvbl8xID0gcmVxdWlyZShcIi4vYnVmZmVyX3NlY3Rpb25cIik7XG5jbGFzcyBCdWZmZXJQcmVzZW50YXRpb24gZXh0ZW5kcyBwcmVzZW50YXRpb25fMS5QcmVzZW50YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGNhY2hlX2JhdGNoX3NpemUsIHBhc3Rfc2VjdGlvbnNfdG9fYnVmZmVyLCBmdXR1cmVfc2VjdGlvbnNfdG9fYnVmZmVyKSB7XG4gICAgICAgIHN1cGVyKGNhY2hlX2JhdGNoX3NpemUpO1xuICAgICAgICB0aGlzLnBhc3Rfc2VjdGlvbnNfdG9fYnVmZmVyID0gcGFzdF9zZWN0aW9uc190b19idWZmZXI7XG4gICAgICAgIHRoaXMuZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlciA9IGZ1dHVyZV9zZWN0aW9uc190b19idWZmZXI7XG4gICAgfVxuICAgIC8vIGJ1ZmZlciBwYXN0IGFuZCBmdXR1cmUgdmlkZW9zXG4gICAgdXBkYXRlX3NvdXJjZSgpIHtcbiAgICAgICAgLy8gbG9hZCBuZXh0IHNlY3Rpb25zXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmN1cnJlbnRfc2VjdGlvbiArIDEsIGxlbiA9IE1hdGgubWluKHRoaXMuY3VycmVudF9zZWN0aW9uICsgdGhpcy5mdXR1cmVfc2VjdGlvbnNfdG9fYnVmZmVyICsgMSwgdGhpcy5zZWN0aW9ucy5sZW5ndGgpOyBpIDwgbGVuOyArK2kpXG4gICAgICAgICAgICB0aGlzLnNlY3Rpb25zW2ldLmxvYWQoKTtcbiAgICAgICAgLy8gdW5sb2FkIHByZXZpb3VzIHNlY3Rpb25zXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmN1cnJlbnRfc2VjdGlvbiAtIHRoaXMucGFzdF9zZWN0aW9uc190b19idWZmZXI7IGkgPCBsZW47ICsraSlcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbnNbaV0udW5sb2FkKCk7XG4gICAgfVxuICAgIGFkZF9zZWN0aW9uKHNlY3Rpb24sIHZpZGVvKSB7XG4gICAgICAgIHRoaXMuc2VjdGlvbnMucHVzaChuZXcgYnVmZmVyX3NlY3Rpb25fMS5CdWZmZXJTZWN0aW9uKHNlY3Rpb24sIHZpZGVvKSk7XG4gICAgfVxufVxuZXhwb3J0cy5CdWZmZXJQcmVzZW50YXRpb24gPSBCdWZmZXJQcmVzZW50YXRpb247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./web_src/ts/buffer_presenter/buffer_presentation.ts\n");

/***/ }),

/***/ "./web_src/ts/buffer_presenter/buffer_section.ts":
/*!*******************************************************!*\
  !*** ./web_src/ts/buffer_presenter/buffer_section.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BufferSection = void 0;\nconst section_1 = __webpack_require__(/*! ../presenter/section */ \"./web_src/ts/presenter/section.ts\");\nclass BufferSection extends section_1.Section {\n    constructor(section, video) {\n        super(section, video);\n        this.media_source = new MediaSource();\n        this.media_buffer = null;\n        // when setting url to video element\n        this.media_source.onsourceopen = (_) => {\n            // check if MIME codec is supported\n            let mime_codec = 'video/mp4; codecs=\"avc1.64002A\"';\n            if (!(\"MediaSource\" in window) || !MediaSource.isTypeSupported(mime_codec)) {\n                console.error(\"MediaSource or mime codec not supported\");\n                this.media_source.endOfStream();\n                return;\n            }\n            // add source buffer to media source of this section\n            let source_buffer = this.media_source.addSourceBuffer(mime_codec);\n            // set callbacks\n            source_buffer.onupdateend = (_) => {\n                this.media_source.endOfStream();\n            };\n            source_buffer.onerror = (_) => {\n                console.error(\"Failed to append buffer to source buffer:\");\n                console.error(this.media_source);\n            };\n            source_buffer.onabort = (_) => {\n                console.error(\"Aborted source buffer:\");\n                console.error(this.media_source);\n            };\n            this.load(() => {\n                if (this.media_buffer == null) {\n                    source_buffer.abort();\n                    return;\n                }\n                // success\n                source_buffer.appendBuffer(this.media_buffer);\n            }, () => {\n                // failure\n                source_buffer.abort();\n            });\n        };\n    }\n    load(on_loaded = null, on_failed = null) {\n        if (this.media_buffer !== null) {\n            if (on_loaded !== null)\n                on_loaded();\n            return;\n        }\n        let request = new XMLHttpRequest();\n        request.responseType = \"arraybuffer\";\n        request.onload = () => {\n            this.media_buffer = request.response;\n            console.log(`Section '${this.name}' successfully loaded`);\n            if (on_loaded !== null)\n                on_loaded();\n        };\n        request.onerror = () => {\n            console.error(`Section '${this.name}' failed to load`);\n            if (on_failed !== null)\n                on_failed();\n        };\n        request.open(\"GET\", this.video, true);\n        request.send();\n    }\n    unload() {\n        this.media_buffer = null;\n    }\n    // load from memory\n    get_src_url() {\n        return URL.createObjectURL(this.media_source);\n    }\n}\nexports.BufferSection = BufferSection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2J1ZmZlcl9wcmVzZW50ZXIvYnVmZmVyX3NlY3Rpb24udHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYW5pbV9lZGl0b3IvLi93ZWJfc3JjL3RzL2J1ZmZlcl9wcmVzZW50ZXIvYnVmZmVyX3NlY3Rpb24udHM/ZDE2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQnVmZmVyU2VjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9wcmVzZW50ZXIvc2VjdGlvblwiKTtcbmNsYXNzIEJ1ZmZlclNlY3Rpb24gZXh0ZW5kcyBzZWN0aW9uXzEuU2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc2VjdGlvbiwgdmlkZW8pIHtcbiAgICAgICAgc3VwZXIoc2VjdGlvbiwgdmlkZW8pO1xuICAgICAgICB0aGlzLm1lZGlhX3NvdXJjZSA9IG5ldyBNZWRpYVNvdXJjZSgpO1xuICAgICAgICB0aGlzLm1lZGlhX2J1ZmZlciA9IG51bGw7XG4gICAgICAgIC8vIHdoZW4gc2V0dGluZyB1cmwgdG8gdmlkZW8gZWxlbWVudFxuICAgICAgICB0aGlzLm1lZGlhX3NvdXJjZS5vbnNvdXJjZW9wZW4gPSAoXykgPT4ge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgTUlNRSBjb2RlYyBpcyBzdXBwb3J0ZWRcbiAgICAgICAgICAgIGxldCBtaW1lX2NvZGVjID0gJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS42NDAwMkFcIic7XG4gICAgICAgICAgICBpZiAoIShcIk1lZGlhU291cmNlXCIgaW4gd2luZG93KSB8fCAhTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKG1pbWVfY29kZWMpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk1lZGlhU291cmNlIG9yIG1pbWUgY29kZWMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhX3NvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBzb3VyY2UgYnVmZmVyIHRvIG1lZGlhIHNvdXJjZSBvZiB0aGlzIHNlY3Rpb25cbiAgICAgICAgICAgIGxldCBzb3VyY2VfYnVmZmVyID0gdGhpcy5tZWRpYV9zb3VyY2UuYWRkU291cmNlQnVmZmVyKG1pbWVfY29kZWMpO1xuICAgICAgICAgICAgLy8gc2V0IGNhbGxiYWNrc1xuICAgICAgICAgICAgc291cmNlX2J1ZmZlci5vbnVwZGF0ZWVuZCA9IChfKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYV9zb3VyY2UuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb3VyY2VfYnVmZmVyLm9uZXJyb3IgPSAoXykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gYXBwZW5kIGJ1ZmZlciB0byBzb3VyY2UgYnVmZmVyOlwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMubWVkaWFfc291cmNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb3VyY2VfYnVmZmVyLm9uYWJvcnQgPSAoXykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBYm9ydGVkIHNvdXJjZSBidWZmZXI6XCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5tZWRpYV9zb3VyY2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMubG9hZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFfYnVmZmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlX2J1ZmZlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICBzb3VyY2VfYnVmZmVyLmFwcGVuZEJ1ZmZlcih0aGlzLm1lZGlhX2J1ZmZlcik7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgICAgICAgICAgIHNvdXJjZV9idWZmZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBsb2FkKG9uX2xvYWRlZCA9IG51bGwsIG9uX2ZhaWxlZCA9IG51bGwpIHtcbiAgICAgICAgaWYgKHRoaXMubWVkaWFfYnVmZmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAob25fbG9hZGVkICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIG9uX2xvYWRlZCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubWVkaWFfYnVmZmVyID0gcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZWN0aW9uICcke3RoaXMubmFtZX0nIHN1Y2Nlc3NmdWxseSBsb2FkZWRgKTtcbiAgICAgICAgICAgIGlmIChvbl9sb2FkZWQgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgb25fbG9hZGVkKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNlY3Rpb24gJyR7dGhpcy5uYW1lfScgZmFpbGVkIHRvIGxvYWRgKTtcbiAgICAgICAgICAgIGlmIChvbl9mYWlsZWQgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgb25fZmFpbGVkKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB0aGlzLnZpZGVvLCB0cnVlKTtcbiAgICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgfVxuICAgIHVubG9hZCgpIHtcbiAgICAgICAgdGhpcy5tZWRpYV9idWZmZXIgPSBudWxsO1xuICAgIH1cbiAgICAvLyBsb2FkIGZyb20gbWVtb3J5XG4gICAgZ2V0X3NyY191cmwoKSB7XG4gICAgICAgIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMubWVkaWFfc291cmNlKTtcbiAgICB9XG59XG5leHBvcnRzLkJ1ZmZlclNlY3Rpb24gPSBCdWZmZXJTZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/buffer_presenter/buffer_section.ts\n");

/***/ }),

/***/ "./web_src/ts/edit_project.ts":
/*!************************************!*\
  !*** ./web_src/ts/edit_project.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./web_src/ts/utils.ts\");\nconst buffer_presentation_1 = __webpack_require__(/*! ./buffer_presenter/buffer_presentation */ \"./web_src/ts/buffer_presenter/buffer_presentation.ts\");\nconst fallback_presentation_1 = __webpack_require__(/*! ./fallback_presenter/fallback_presentation */ \"./web_src/ts/fallback_presenter/fallback_presentation.ts\");\nconst utils_2 = __webpack_require__(/*! ./utils */ \"./web_src/ts/utils.ts\");\n// used to load and update player settings\nlet CACHE_BATCH_SIZE = 5;\nlet PAST_SECTIONS_TO_BUFFER = 2;\nlet FUTURE_SECTIONS_TO_BUFFER = 5;\nlet USE_FALLBACK_LOADER = false;\nlet url_search_params = new URLSearchParams(location.search);\nfunction load_url_params() {\n    if (url_search_params.has(\"cache_batch_size\"))\n        CACHE_BATCH_SIZE = Number(url_search_params.get(\"cache_batch_size\"));\n    if (url_search_params.has(\"past_sections_to_buffer\"))\n        PAST_SECTIONS_TO_BUFFER = Number(url_search_params.get(\"past_sections_to_buffer\"));\n    if (url_search_params.has(\"future_sections_to_buffer\"))\n        FUTURE_SECTIONS_TO_BUFFER = Number(url_search_params.get(\"future_sections_to_buffer\"));\n    if (url_search_params.has(\"use_fallback_loader\"))\n        USE_FALLBACK_LOADER = url_search_params.get(\"use_fallback_loader\") === \"true\";\n}\n// update url parameters and reload page\nfunction update_url_params() {\n    url_search_params.set(\"cache_batch_size\", CACHE_BATCH_SIZE.toString());\n    url_search_params.set(\"past_sections_to_buffer\", FUTURE_SECTIONS_TO_BUFFER.toString());\n    url_search_params.set(\"future_sections_to_buffer\", PAST_SECTIONS_TO_BUFFER.toString());\n    url_search_params.set(\"use_fallback_loader\", USE_FALLBACK_LOADER.toString());\n    window.history.replaceState({}, \"\", `${location.pathname}?${url_search_params.toString()}`);\n    location.reload();\n}\nfunction create_presentation() {\n    if (USE_FALLBACK_LOADER) {\n        console.log(`Using FallbackPresentation with a cache batch size of ${CACHE_BATCH_SIZE}.`);\n        return new fallback_presentation_1.FallbackPresentation(CACHE_BATCH_SIZE);\n    }\n    else {\n        console.log(`Using BufferPresentation with ${FUTURE_SECTIONS_TO_BUFFER} sections to auto load, ${PAST_SECTIONS_TO_BUFFER} sections to keep and a cache batch size of ${CACHE_BATCH_SIZE}.`);\n        return new buffer_presentation_1.BufferPresentation(CACHE_BATCH_SIZE, FUTURE_SECTIONS_TO_BUFFER, PAST_SECTIONS_TO_BUFFER);\n    }\n}\nfunction attach_settings() {\n    let cache_batch_size = document.getElementById(\"cache-batch-size\");\n    let past_sections_to_buffer = document.getElementById(\"past-sections-to-buffer\");\n    let future_sections_to_buffer = document.getElementById(\"future-sections-to-buffer\");\n    let use_fallback_loader = document.getElementById(\"fallback-loader-selected\");\n    let update_settings = document.getElementById(\"update-settings\");\n    cache_batch_size.value = CACHE_BATCH_SIZE.toString();\n    past_sections_to_buffer.value = PAST_SECTIONS_TO_BUFFER.toString();\n    future_sections_to_buffer.value = FUTURE_SECTIONS_TO_BUFFER.toString();\n    // automatically set use_buffer_loader\n    use_fallback_loader.checked = USE_FALLBACK_LOADER;\n    // set callback\n    update_settings.addEventListener(\"click\", () => {\n        // silently prevent invalid input\n        if (parseInt(cache_batch_size.value) > 0)\n            CACHE_BATCH_SIZE = parseInt(cache_batch_size.value);\n        if (parseInt(past_sections_to_buffer.value) > 0)\n            PAST_SECTIONS_TO_BUFFER = parseInt(past_sections_to_buffer.value);\n        if (parseInt(future_sections_to_buffer.value) > 0)\n            FUTURE_SECTIONS_TO_BUFFER = parseInt(future_sections_to_buffer.value);\n        // buffer-loader-selected doesn't have to be worried about <- logically linked\n        USE_FALLBACK_LOADER = use_fallback_loader.checked;\n        update_url_params();\n    });\n}\nfunction attach_export() {\n    let export_presentation = document.getElementById(\"export-presentation\");\n    if (export_presentation !== null) {\n        let target = export_presentation.dataset.target;\n        let project_name = export_presentation.dataset.name;\n        export_presentation.addEventListener(\"click\", () => {\n            // flash(\"The project is being exported as a presentation, this might take a few seconds. Open the terminal for more info.\", \"info\");\n            (0, utils_1.spin_button)(export_presentation);\n            (0, utils_2.send_json)(target, { \"name\": project_name }, (response) => {\n                if (response.success) {\n                    export_presentation === null || export_presentation === void 0 ? void 0 : export_presentation.remove();\n                    (0, utils_2.flash)(\"The project has been exported, copy the project directory into a web server to serve it. More information can be found in the documentation.\", \"success\");\n                }\n                else\n                    (0, utils_2.flash)(`The editor unexpectedly failed to export the project '${project_name}' as a presentation. For more information see the console log. Please consider opening an Issue on GitHub if this problem persists.`, \"danger\");\n            });\n        });\n    }\n}\n// ignore keyboard layout\nfunction attach_keyboard_ui(presentation) {\n    // according to KeyboardEvent.code on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code/code_values\n    const prev_keys = [\n        \"ArrowLeft\",\n        \"ArrowDown\",\n        \"PageDown\",\n        \"Backspace\",\n    ];\n    const next_keys = [\n        \"ArrowRight\",\n        \"ArrowUp\",\n        \"PageUp\",\n        \"Enter\",\n    ];\n    const pause_keys = [\n        \"Space\",\n    ];\n    const fullscreen_keys = [\n        \"KeyF\",\n    ];\n    document.addEventListener(\"keydown\", (e) => {\n        if (e.repeat)\n            return;\n        if (prev_keys.includes(e.code))\n            presentation.play_previous_section();\n        else if (next_keys.includes(e.code))\n            presentation.play_next_section();\n        else if (pause_keys.includes(e.code))\n            presentation.toggle_pause();\n        else if (fullscreen_keys.includes(e.code))\n            presentation.toggle_fullscreen();\n    });\n}\ndocument.body.onload = () => {\n    load_url_params();\n    let presentation = create_presentation();\n    attach_settings();\n    attach_export();\n    attach_keyboard_ui(presentation);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2VkaXRfcHJvamVjdC50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYW5pbV9lZGl0b3IvLi93ZWJfc3JjL3RzL2VkaXRfcHJvamVjdC50cz82YjRiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgYnVmZmVyX3ByZXNlbnRhdGlvbl8xID0gcmVxdWlyZShcIi4vYnVmZmVyX3ByZXNlbnRlci9idWZmZXJfcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgZmFsbGJhY2tfcHJlc2VudGF0aW9uXzEgPSByZXF1aXJlKFwiLi9mYWxsYmFja19wcmVzZW50ZXIvZmFsbGJhY2tfcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgdXRpbHNfMiA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuLy8gdXNlZCB0byBsb2FkIGFuZCB1cGRhdGUgcGxheWVyIHNldHRpbmdzXG5sZXQgQ0FDSEVfQkFUQ0hfU0laRSA9IDU7XG5sZXQgUEFTVF9TRUNUSU9OU19UT19CVUZGRVIgPSAyO1xubGV0IEZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVIgPSA1O1xubGV0IFVTRV9GQUxMQkFDS19MT0FERVIgPSBmYWxzZTtcbmxldCB1cmxfc2VhcmNoX3BhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoKTtcbmZ1bmN0aW9uIGxvYWRfdXJsX3BhcmFtcygpIHtcbiAgICBpZiAodXJsX3NlYXJjaF9wYXJhbXMuaGFzKFwiY2FjaGVfYmF0Y2hfc2l6ZVwiKSlcbiAgICAgICAgQ0FDSEVfQkFUQ0hfU0laRSA9IE51bWJlcih1cmxfc2VhcmNoX3BhcmFtcy5nZXQoXCJjYWNoZV9iYXRjaF9zaXplXCIpKTtcbiAgICBpZiAodXJsX3NlYXJjaF9wYXJhbXMuaGFzKFwicGFzdF9zZWN0aW9uc190b19idWZmZXJcIikpXG4gICAgICAgIFBBU1RfU0VDVElPTlNfVE9fQlVGRkVSID0gTnVtYmVyKHVybF9zZWFyY2hfcGFyYW1zLmdldChcInBhc3Rfc2VjdGlvbnNfdG9fYnVmZmVyXCIpKTtcbiAgICBpZiAodXJsX3NlYXJjaF9wYXJhbXMuaGFzKFwiZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlclwiKSlcbiAgICAgICAgRlVUVVJFX1NFQ1RJT05TX1RPX0JVRkZFUiA9IE51bWJlcih1cmxfc2VhcmNoX3BhcmFtcy5nZXQoXCJmdXR1cmVfc2VjdGlvbnNfdG9fYnVmZmVyXCIpKTtcbiAgICBpZiAodXJsX3NlYXJjaF9wYXJhbXMuaGFzKFwidXNlX2ZhbGxiYWNrX2xvYWRlclwiKSlcbiAgICAgICAgVVNFX0ZBTExCQUNLX0xPQURFUiA9IHVybF9zZWFyY2hfcGFyYW1zLmdldChcInVzZV9mYWxsYmFja19sb2FkZXJcIikgPT09IFwidHJ1ZVwiO1xufVxuLy8gdXBkYXRlIHVybCBwYXJhbWV0ZXJzIGFuZCByZWxvYWQgcGFnZVxuZnVuY3Rpb24gdXBkYXRlX3VybF9wYXJhbXMoKSB7XG4gICAgdXJsX3NlYXJjaF9wYXJhbXMuc2V0KFwiY2FjaGVfYmF0Y2hfc2l6ZVwiLCBDQUNIRV9CQVRDSF9TSVpFLnRvU3RyaW5nKCkpO1xuICAgIHVybF9zZWFyY2hfcGFyYW1zLnNldChcInBhc3Rfc2VjdGlvbnNfdG9fYnVmZmVyXCIsIEZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVIudG9TdHJpbmcoKSk7XG4gICAgdXJsX3NlYXJjaF9wYXJhbXMuc2V0KFwiZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlclwiLCBQQVNUX1NFQ1RJT05TX1RPX0JVRkZFUi50b1N0cmluZygpKTtcbiAgICB1cmxfc2VhcmNoX3BhcmFtcy5zZXQoXCJ1c2VfZmFsbGJhY2tfbG9hZGVyXCIsIFVTRV9GQUxMQkFDS19MT0FERVIudG9TdHJpbmcoKSk7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBgJHtsb2NhdGlvbi5wYXRobmFtZX0/JHt1cmxfc2VhcmNoX3BhcmFtcy50b1N0cmluZygpfWApO1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xufVxuZnVuY3Rpb24gY3JlYXRlX3ByZXNlbnRhdGlvbigpIHtcbiAgICBpZiAoVVNFX0ZBTExCQUNLX0xPQURFUikge1xuICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgRmFsbGJhY2tQcmVzZW50YXRpb24gd2l0aCBhIGNhY2hlIGJhdGNoIHNpemUgb2YgJHtDQUNIRV9CQVRDSF9TSVpFfS5gKTtcbiAgICAgICAgcmV0dXJuIG5ldyBmYWxsYmFja19wcmVzZW50YXRpb25fMS5GYWxsYmFja1ByZXNlbnRhdGlvbihDQUNIRV9CQVRDSF9TSVpFKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBVc2luZyBCdWZmZXJQcmVzZW50YXRpb24gd2l0aCAke0ZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVJ9IHNlY3Rpb25zIHRvIGF1dG8gbG9hZCwgJHtQQVNUX1NFQ1RJT05TX1RPX0JVRkZFUn0gc2VjdGlvbnMgdG8ga2VlcCBhbmQgYSBjYWNoZSBiYXRjaCBzaXplIG9mICR7Q0FDSEVfQkFUQ0hfU0laRX0uYCk7XG4gICAgICAgIHJldHVybiBuZXcgYnVmZmVyX3ByZXNlbnRhdGlvbl8xLkJ1ZmZlclByZXNlbnRhdGlvbihDQUNIRV9CQVRDSF9TSVpFLCBGVVRVUkVfU0VDVElPTlNfVE9fQlVGRkVSLCBQQVNUX1NFQ1RJT05TX1RPX0JVRkZFUik7XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0YWNoX3NldHRpbmdzKCkge1xuICAgIGxldCBjYWNoZV9iYXRjaF9zaXplID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWNoZS1iYXRjaC1zaXplXCIpO1xuICAgIGxldCBwYXN0X3NlY3Rpb25zX3RvX2J1ZmZlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzdC1zZWN0aW9ucy10by1idWZmZXJcIik7XG4gICAgbGV0IGZ1dHVyZV9zZWN0aW9uc190b19idWZmZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1dHVyZS1zZWN0aW9ucy10by1idWZmZXJcIik7XG4gICAgbGV0IHVzZV9mYWxsYmFja19sb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZhbGxiYWNrLWxvYWRlci1zZWxlY3RlZFwiKTtcbiAgICBsZXQgdXBkYXRlX3NldHRpbmdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGUtc2V0dGluZ3NcIik7XG4gICAgY2FjaGVfYmF0Y2hfc2l6ZS52YWx1ZSA9IENBQ0hFX0JBVENIX1NJWkUudG9TdHJpbmcoKTtcbiAgICBwYXN0X3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSA9IFBBU1RfU0VDVElPTlNfVE9fQlVGRkVSLnRvU3RyaW5nKCk7XG4gICAgZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSA9IEZVVFVSRV9TRUNUSU9OU19UT19CVUZGRVIudG9TdHJpbmcoKTtcbiAgICAvLyBhdXRvbWF0aWNhbGx5IHNldCB1c2VfYnVmZmVyX2xvYWRlclxuICAgIHVzZV9mYWxsYmFja19sb2FkZXIuY2hlY2tlZCA9IFVTRV9GQUxMQkFDS19MT0FERVI7XG4gICAgLy8gc2V0IGNhbGxiYWNrXG4gICAgdXBkYXRlX3NldHRpbmdzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIC8vIHNpbGVudGx5IHByZXZlbnQgaW52YWxpZCBpbnB1dFxuICAgICAgICBpZiAocGFyc2VJbnQoY2FjaGVfYmF0Y2hfc2l6ZS52YWx1ZSkgPiAwKVxuICAgICAgICAgICAgQ0FDSEVfQkFUQ0hfU0laRSA9IHBhcnNlSW50KGNhY2hlX2JhdGNoX3NpemUudmFsdWUpO1xuICAgICAgICBpZiAocGFyc2VJbnQocGFzdF9zZWN0aW9uc190b19idWZmZXIudmFsdWUpID4gMClcbiAgICAgICAgICAgIFBBU1RfU0VDVElPTlNfVE9fQlVGRkVSID0gcGFyc2VJbnQocGFzdF9zZWN0aW9uc190b19idWZmZXIudmFsdWUpO1xuICAgICAgICBpZiAocGFyc2VJbnQoZnV0dXJlX3NlY3Rpb25zX3RvX2J1ZmZlci52YWx1ZSkgPiAwKVxuICAgICAgICAgICAgRlVUVVJFX1NFQ1RJT05TX1RPX0JVRkZFUiA9IHBhcnNlSW50KGZ1dHVyZV9zZWN0aW9uc190b19idWZmZXIudmFsdWUpO1xuICAgICAgICAvLyBidWZmZXItbG9hZGVyLXNlbGVjdGVkIGRvZXNuJ3QgaGF2ZSB0byBiZSB3b3JyaWVkIGFib3V0IDwtIGxvZ2ljYWxseSBsaW5rZWRcbiAgICAgICAgVVNFX0ZBTExCQUNLX0xPQURFUiA9IHVzZV9mYWxsYmFja19sb2FkZXIuY2hlY2tlZDtcbiAgICAgICAgdXBkYXRlX3VybF9wYXJhbXMoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGF0dGFjaF9leHBvcnQoKSB7XG4gICAgbGV0IGV4cG9ydF9wcmVzZW50YXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4cG9ydC1wcmVzZW50YXRpb25cIik7XG4gICAgaWYgKGV4cG9ydF9wcmVzZW50YXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IGV4cG9ydF9wcmVzZW50YXRpb24uZGF0YXNldC50YXJnZXQ7XG4gICAgICAgIGxldCBwcm9qZWN0X25hbWUgPSBleHBvcnRfcHJlc2VudGF0aW9uLmRhdGFzZXQubmFtZTtcbiAgICAgICAgZXhwb3J0X3ByZXNlbnRhdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgLy8gZmxhc2goXCJUaGUgcHJvamVjdCBpcyBiZWluZyBleHBvcnRlZCBhcyBhIHByZXNlbnRhdGlvbiwgdGhpcyBtaWdodCB0YWtlIGEgZmV3IHNlY29uZHMuIE9wZW4gdGhlIHRlcm1pbmFsIGZvciBtb3JlIGluZm8uXCIsIFwiaW5mb1wiKTtcbiAgICAgICAgICAgICgwLCB1dGlsc18xLnNwaW5fYnV0dG9uKShleHBvcnRfcHJlc2VudGF0aW9uKTtcbiAgICAgICAgICAgICgwLCB1dGlsc18yLnNlbmRfanNvbikodGFyZ2V0LCB7IFwibmFtZVwiOiBwcm9qZWN0X25hbWUgfSwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0X3ByZXNlbnRhdGlvbiA9PT0gbnVsbCB8fCBleHBvcnRfcHJlc2VudGF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBleHBvcnRfcHJlc2VudGF0aW9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfMi5mbGFzaCkoXCJUaGUgcHJvamVjdCBoYXMgYmVlbiBleHBvcnRlZCwgY29weSB0aGUgcHJvamVjdCBkaXJlY3RvcnkgaW50byBhIHdlYiBzZXJ2ZXIgdG8gc2VydmUgaXQuIE1vcmUgaW5mb3JtYXRpb24gY2FuIGJlIGZvdW5kIGluIHRoZSBkb2N1bWVudGF0aW9uLlwiLCBcInN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzXzIuZmxhc2gpKGBUaGUgZWRpdG9yIHVuZXhwZWN0ZWRseSBmYWlsZWQgdG8gZXhwb3J0IHRoZSBwcm9qZWN0ICcke3Byb2plY3RfbmFtZX0nIGFzIGEgcHJlc2VudGF0aW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgdGhlIGNvbnNvbGUgbG9nLiBQbGVhc2UgY29uc2lkZXIgb3BlbmluZyBhbiBJc3N1ZSBvbiBHaXRIdWIgaWYgdGhpcyBwcm9ibGVtIHBlcnNpc3RzLmAsIFwiZGFuZ2VyXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIGlnbm9yZSBrZXlib2FyZCBsYXlvdXRcbmZ1bmN0aW9uIGF0dGFjaF9rZXlib2FyZF91aShwcmVzZW50YXRpb24pIHtcbiAgICAvLyBhY2NvcmRpbmcgdG8gS2V5Ym9hcmRFdmVudC5jb2RlIG9uOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9jb2RlL2NvZGVfdmFsdWVzXG4gICAgY29uc3QgcHJldl9rZXlzID0gW1xuICAgICAgICBcIkFycm93TGVmdFwiLFxuICAgICAgICBcIkFycm93RG93blwiLFxuICAgICAgICBcIlBhZ2VEb3duXCIsXG4gICAgICAgIFwiQmFja3NwYWNlXCIsXG4gICAgXTtcbiAgICBjb25zdCBuZXh0X2tleXMgPSBbXG4gICAgICAgIFwiQXJyb3dSaWdodFwiLFxuICAgICAgICBcIkFycm93VXBcIixcbiAgICAgICAgXCJQYWdlVXBcIixcbiAgICAgICAgXCJFbnRlclwiLFxuICAgIF07XG4gICAgY29uc3QgcGF1c2Vfa2V5cyA9IFtcbiAgICAgICAgXCJTcGFjZVwiLFxuICAgIF07XG4gICAgY29uc3QgZnVsbHNjcmVlbl9rZXlzID0gW1xuICAgICAgICBcIktleUZcIixcbiAgICBdO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnJlcGVhdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHByZXZfa2V5cy5pbmNsdWRlcyhlLmNvZGUpKVxuICAgICAgICAgICAgcHJlc2VudGF0aW9uLnBsYXlfcHJldmlvdXNfc2VjdGlvbigpO1xuICAgICAgICBlbHNlIGlmIChuZXh0X2tleXMuaW5jbHVkZXMoZS5jb2RlKSlcbiAgICAgICAgICAgIHByZXNlbnRhdGlvbi5wbGF5X25leHRfc2VjdGlvbigpO1xuICAgICAgICBlbHNlIGlmIChwYXVzZV9rZXlzLmluY2x1ZGVzKGUuY29kZSkpXG4gICAgICAgICAgICBwcmVzZW50YXRpb24udG9nZ2xlX3BhdXNlKCk7XG4gICAgICAgIGVsc2UgaWYgKGZ1bGxzY3JlZW5fa2V5cy5pbmNsdWRlcyhlLmNvZGUpKVxuICAgICAgICAgICAgcHJlc2VudGF0aW9uLnRvZ2dsZV9mdWxsc2NyZWVuKCk7XG4gICAgfSk7XG59XG5kb2N1bWVudC5ib2R5Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBsb2FkX3VybF9wYXJhbXMoKTtcbiAgICBsZXQgcHJlc2VudGF0aW9uID0gY3JlYXRlX3ByZXNlbnRhdGlvbigpO1xuICAgIGF0dGFjaF9zZXR0aW5ncygpO1xuICAgIGF0dGFjaF9leHBvcnQoKTtcbiAgICBhdHRhY2hfa2V5Ym9hcmRfdWkocHJlc2VudGF0aW9uKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./web_src/ts/edit_project.ts\n");

/***/ }),

/***/ "./web_src/ts/fallback_presenter/fallback_presentation.ts":
/*!****************************************************************!*\
  !*** ./web_src/ts/fallback_presenter/fallback_presentation.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FallbackPresentation = void 0;\nconst presentation_1 = __webpack_require__(/*! ../presenter/presentation */ \"./web_src/ts/presenter/presentation.ts\");\nconst fallback_section_1 = __webpack_require__(/*! ./fallback_section */ \"./web_src/ts/fallback_presenter/fallback_section.ts\");\n// no buffering, only change src of video\nclass FallbackPresentation extends presentation_1.Presentation {\n    add_section(section, video) {\n        this.sections.push(new fallback_section_1.FallbackSection(section, video));\n    }\n}\nexports.FallbackPresentation = FallbackPresentation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2ZhbGxiYWNrX3ByZXNlbnRlci9mYWxsYmFja19wcmVzZW50YXRpb24udHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFuaW1fZWRpdG9yLy4vd2ViX3NyYy90cy9mYWxsYmFja19wcmVzZW50ZXIvZmFsbGJhY2tfcHJlc2VudGF0aW9uLnRzPzU2M2QiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZhbGxiYWNrUHJlc2VudGF0aW9uID0gdm9pZCAwO1xuY29uc3QgcHJlc2VudGF0aW9uXzEgPSByZXF1aXJlKFwiLi4vcHJlc2VudGVyL3ByZXNlbnRhdGlvblwiKTtcbmNvbnN0IGZhbGxiYWNrX3NlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrX3NlY3Rpb25cIik7XG4vLyBubyBidWZmZXJpbmcsIG9ubHkgY2hhbmdlIHNyYyBvZiB2aWRlb1xuY2xhc3MgRmFsbGJhY2tQcmVzZW50YXRpb24gZXh0ZW5kcyBwcmVzZW50YXRpb25fMS5QcmVzZW50YXRpb24ge1xuICAgIGFkZF9zZWN0aW9uKHNlY3Rpb24sIHZpZGVvKSB7XG4gICAgICAgIHRoaXMuc2VjdGlvbnMucHVzaChuZXcgZmFsbGJhY2tfc2VjdGlvbl8xLkZhbGxiYWNrU2VjdGlvbihzZWN0aW9uLCB2aWRlbykpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmFsbGJhY2tQcmVzZW50YXRpb24gPSBGYWxsYmFja1ByZXNlbnRhdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./web_src/ts/fallback_presenter/fallback_presentation.ts\n");

/***/ }),

/***/ "./web_src/ts/fallback_presenter/fallback_section.ts":
/*!***********************************************************!*\
  !*** ./web_src/ts/fallback_presenter/fallback_section.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FallbackSection = void 0;\nconst section_1 = __webpack_require__(/*! ../presenter/section */ \"./web_src/ts/presenter/section.ts\");\nclass FallbackSection extends section_1.Section {\n    // use default video fetcher with no buffering\n    get_src_url() {\n        return this.video;\n    }\n}\nexports.FallbackSection = FallbackSection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL2ZhbGxiYWNrX3ByZXNlbnRlci9mYWxsYmFja19zZWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYW5pbV9lZGl0b3IvLi93ZWJfc3JjL3RzL2ZhbGxiYWNrX3ByZXNlbnRlci9mYWxsYmFja19zZWN0aW9uLnRzPzUwMzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZhbGxiYWNrU2VjdGlvbiA9IHZvaWQgMDtcbmNvbnN0IHNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuLi9wcmVzZW50ZXIvc2VjdGlvblwiKTtcbmNsYXNzIEZhbGxiYWNrU2VjdGlvbiBleHRlbmRzIHNlY3Rpb25fMS5TZWN0aW9uIHtcbiAgICAvLyB1c2UgZGVmYXVsdCB2aWRlbyBmZXRjaGVyIHdpdGggbm8gYnVmZmVyaW5nXG4gICAgZ2V0X3NyY191cmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvO1xuICAgIH1cbn1cbmV4cG9ydHMuRmFsbGJhY2tTZWN0aW9uID0gRmFsbGJhY2tTZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/fallback_presenter/fallback_section.ts\n");

/***/ }),

/***/ "./web_src/ts/presenter/presentation.ts":
/*!**********************************************!*\
  !*** ./web_src/ts/presenter/presentation.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Presentation = void 0;\nconst utils_1 = __webpack_require__(/*! ../utils */ \"./web_src/ts/utils.ts\");\nconst section_1 = __webpack_require__(/*! ./section */ \"./web_src/ts/presenter/section.ts\");\nclass Presentation {\n    constructor(cache_batch_size) {\n        // switch between play and pause\n        this.button_should_pause = true;\n        // gets flipped when displaying first video\n        this.current_video = 1;\n        this.sections = [];\n        this.current_section = -1;\n        // used for restarting loops\n        // <- has to be done to allow complete loops\n        this.previous_section = -1;\n        // used for complete loops\n        this.next_section = 0;\n        this.cache_batch_size = cache_batch_size;\n        this.video0 = document.getElementById(\"video0\");\n        this.video1 = document.getElementById(\"video1\");\n        this.videos_div = document.getElementById(\"videos-div\");\n        this.timeline_sections = document.getElementsByClassName(\"timeline-element\");\n        this.timeline_indicators = document.getElementsByClassName(\"timeline-indicator\");\n        this.pause_button = document.getElementById(\"pause\");\n        // load_sections\n        let project_file = this.videos_div.dataset.project_file;\n        (0, utils_1.get_json)(project_file, (sections) => {\n            // construct sections from json response\n            for (let i = 0; i < sections.length; ++i) {\n                // custom Flask url\n                let video = this.timeline_sections[i].dataset.video;\n                this.add_section(sections[i], video);\n            }\n            console.log(`All ${sections.length} sections have been parsed successfully.`);\n            this.attach_timeline();\n            this.attach_buttons();\n            // start the action\n            this.play_section(0);\n        });\n    }\n    // update currently playing video in html video element\n    update_video() {\n        this.set_button_pause();\n        // correct section already current\n        if (this.current_section == this.previous_section) {\n            // restart video\n            this.get_current_video().currentTime = 0;\n            this.get_current_video().play();\n            return;\n        }\n        let current_section_elem = this.sections[this.current_section];\n        // swap videos\n        let last_element = this.get_current_video();\n        this.current_video = this.current_video == 0 ? 1 : 0;\n        let next_element = this.get_current_video();\n        // double buffering: setup new video\n        next_element.src = current_section_elem.get_src_url();\n        next_element.style.visibility = \"visible\";\n        // set callback for when video has ended\n        switch (current_section_elem.get_type()) {\n            case section_1.SectionType.SKIP:\n                next_element.onended = (_) => {\n                    // immediately go to next section without user input\n                    ++this.current_section;\n                    this.next_section = this.current_section;\n                    this.update_video();\n                };\n                break;\n            case section_1.SectionType.LOOP:\n                next_element.onended = (_) => {\n                    // restart from beginning\n                    this.update_video();\n                };\n                break;\n            case section_1.SectionType.COMPLETE_LOOP:\n                next_element.onended = (_) => {\n                    // when next section has changed, go to next one\n                    // otherwise restart\n                    this.current_section = this.next_section;\n                    this.update_video();\n                };\n                break;\n            // SectionType.NORMAL\n            default:\n                // do nothing <- wait for user input\n                next_element.onended = (_) => { };\n                break;\n        }\n        console.log(`Playing section '${current_section_elem.get_name()}'`);\n        // hide old video once new one plays\n        next_element.play().then(() => {\n            // pause old video to not call onended callback again when that video ends in background\n            last_element.pause();\n            last_element.style.visibility = \"hidden\";\n        });\n        this.update_timeline();\n        this.update_source();\n        // everything done -> section has changed\n        this.previous_section = this.current_section;\n    }\n    // skip_complete_loop can be used in the timeline or as a forced continue\n    play_section(section, skip_complete_loop = false) {\n        if (section < 0 || section >= this.sections.length) {\n            console.error(`Trying to switch to invalid section index #${section}`);\n            return;\n        }\n        console.log(`Switching to section '${this.sections[section].get_name()}'`);\n        if (this.current_section != -1 && this.sections[this.current_section].get_type() == section_1.SectionType.COMPLETE_LOOP && !skip_complete_loop) {\n            // if current section is complete loop, wait until section finishes\n            this.next_section = section;\n        }\n        else {\n            // instantly switch the video\n            this.next_section = section;\n            this.current_section = section;\n            this.update_video();\n        }\n    }\n    play_next_section() {\n        this.play_section(this.current_section + 1);\n    }\n    restart_current_section() {\n        this.play_section(this.current_section, true);\n    }\n    play_previous_section() {\n        // don't finish complete loops when going back\n        this.play_section(this.current_section - 1, true);\n    }\n    get_current_section() { return this.current_section; }\n    get_current_video() {\n        if (this.current_video == 0)\n            return this.video0;\n        else\n            return this.video1;\n    }\n    /////////////\n    // caching //\n    /////////////\n    // asynchronous, recursive; downloads everything after offset in batches\n    cache_batch(offset, on_finished) {\n        let finished = offset;\n        // cache one whole batch\n        for (let i = offset, len = Math.min(offset + this.cache_batch_size, this.sections.length); i < len; ++i)\n            this.sections[i].cache(() => {\n                ++finished;\n                // all finished\n                if (finished == this.sections.length) {\n                    console.log(`Batch caching complete with offset ${offset}`);\n                    console.log(\"Caching complete\");\n                    on_finished();\n                }\n                // start next batch\n                else if (finished == offset + this.cache_batch_size) {\n                    console.log(`Batch caching complete with offset ${offset}`);\n                    this.cache_batch(finished, on_finished);\n                }\n            });\n    }\n    // asynchronous\n    cache(on_finished) {\n        this.cache_batch(0, on_finished);\n    }\n    ////////////////\n    // fullscreen //\n    ////////////////\n    // TODO: doesn't work on safari\n    enter_fullscreen() {\n        if (this.videos_div.requestFullscreen)\n            this.videos_div.requestFullscreen();\n        // safari\n        else if (this.videos_div.webkitRequestFullscreen)\n            this.videos_div.webkitRequestFullscreen();\n        // ie11\n        else if (this.videos_div.msRequestFullscreen)\n            this.videos_div.msRequestFullscreen();\n    }\n    exit_fullscreen() {\n        if (document.exitFullscreen)\n            document.exitFullscreen();\n        // safari\n        else if (document.webkitExitFullscreen)\n            document.webkitExitFullscreen();\n        // ie11\n        else if (document.msExitFullscreen)\n            document.msExitFullscreen();\n    }\n    fullscreen_status() {\n        return document.fullscreenElement != null ||\n            document.webkitFullscreenElement != null ||\n            document.mozFullScreenElement != null;\n    }\n    toggle_fullscreen() {\n        if (this.fullscreen_status())\n            this.exit_fullscreen();\n        else\n            this.enter_fullscreen();\n    }\n    ////////////////////\n    // user interface //\n    ////////////////////\n    attach_timeline() {\n        for (let i = 0; i < this.timeline_sections.length; ++i) {\n            this.timeline_sections[i].addEventListener(\"click\", () => {\n                this.play_section(i, true);\n            });\n        }\n    }\n    update_timeline() {\n        if (this.previous_section != -1)\n            this.timeline_indicators[this.previous_section].innerHTML = `<i class=\"timeline-indicators bi-check-circle\" role=\"img\"></i>`;\n        this.timeline_indicators[this.current_section].innerHTML = `<i class=\"timeline-indicators bi-circle-fill\" role=\"img\"></i>`;\n        this.timeline_sections[this.current_section].scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n    // update icon on button\n    set_button_play() {\n        this.button_should_pause = false;\n        this.pause_button.innerHTML = '<i class=\"bi-play\"></i>';\n    }\n    set_button_pause() {\n        this.button_should_pause = true;\n        this.pause_button.innerHTML = '<i class=\"bi-pause\"></i>';\n    }\n    pause() {\n        console.log(\"Stopped.\");\n        this.get_current_video().pause();\n        this.set_button_play();\n    }\n    play() {\n        console.log(\"Started.\");\n        this.get_current_video().play();\n        this.set_button_pause();\n    }\n    toggle_pause() {\n        if (this.button_should_pause)\n            this.pause();\n        else\n            this.play();\n    }\n    attach_buttons() {\n        let previous = document.getElementById(\"previous-section\");\n        let restart = document.getElementById(\"restart-section\");\n        let next = document.getElementById(\"next-section\");\n        let pause = document.getElementById(\"pause\");\n        let fullscreen = document.getElementById(\"fullscreen\");\n        let cache = document.getElementById(\"cache\");\n        // add callbacks\n        previous.addEventListener(\"click\", this.play_previous_section.bind(this));\n        restart.addEventListener(\"click\", this.restart_current_section.bind(this));\n        next.addEventListener(\"click\", this.play_next_section.bind(this));\n        pause.addEventListener(\"click\", this.toggle_pause.bind(this));\n        fullscreen.addEventListener(\"click\", this.enter_fullscreen.bind(this));\n        cache.addEventListener(\"click\", () => {\n            (0, utils_1.spin_button)(cache);\n            this.cache(() => {\n                cache.remove();\n            });\n        });\n    }\n    // called after section changed\n    // to be overwritten if required\n    update_source() { }\n}\nexports.Presentation = Presentation;\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL3ByZXNlbnRlci9wcmVzZW50YXRpb24udHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYW5pbV9lZGl0b3IvLi93ZWJfc3JjL3RzL3ByZXNlbnRlci9wcmVzZW50YXRpb24udHM/YzNlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUHJlc2VudGF0aW9uID0gdm9pZCAwO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcbmNvbnN0IHNlY3Rpb25fMSA9IHJlcXVpcmUoXCIuL3NlY3Rpb25cIik7XG5jbGFzcyBQcmVzZW50YXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGNhY2hlX2JhdGNoX3NpemUpIHtcbiAgICAgICAgLy8gc3dpdGNoIGJldHdlZW4gcGxheSBhbmQgcGF1c2VcbiAgICAgICAgdGhpcy5idXR0b25fc2hvdWxkX3BhdXNlID0gdHJ1ZTtcbiAgICAgICAgLy8gZ2V0cyBmbGlwcGVkIHdoZW4gZGlzcGxheWluZyBmaXJzdCB2aWRlb1xuICAgICAgICB0aGlzLmN1cnJlbnRfdmlkZW8gPSAxO1xuICAgICAgICB0aGlzLnNlY3Rpb25zID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudF9zZWN0aW9uID0gLTE7XG4gICAgICAgIC8vIHVzZWQgZm9yIHJlc3RhcnRpbmcgbG9vcHNcbiAgICAgICAgLy8gPC0gaGFzIHRvIGJlIGRvbmUgdG8gYWxsb3cgY29tcGxldGUgbG9vcHNcbiAgICAgICAgdGhpcy5wcmV2aW91c19zZWN0aW9uID0gLTE7XG4gICAgICAgIC8vIHVzZWQgZm9yIGNvbXBsZXRlIGxvb3BzXG4gICAgICAgIHRoaXMubmV4dF9zZWN0aW9uID0gMDtcbiAgICAgICAgdGhpcy5jYWNoZV9iYXRjaF9zaXplID0gY2FjaGVfYmF0Y2hfc2l6ZTtcbiAgICAgICAgdGhpcy52aWRlbzAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvMFwiKTtcbiAgICAgICAgdGhpcy52aWRlbzEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZGVvMVwiKTtcbiAgICAgICAgdGhpcy52aWRlb3NfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWRlb3MtZGl2XCIpO1xuICAgICAgICB0aGlzLnRpbWVsaW5lX3NlY3Rpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInRpbWVsaW5lLWVsZW1lbnRcIik7XG4gICAgICAgIHRoaXMudGltZWxpbmVfaW5kaWNhdG9ycyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0aW1lbGluZS1pbmRpY2F0b3JcIik7XG4gICAgICAgIHRoaXMucGF1c2VfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwYXVzZVwiKTtcbiAgICAgICAgLy8gbG9hZF9zZWN0aW9uc1xuICAgICAgICBsZXQgcHJvamVjdF9maWxlID0gdGhpcy52aWRlb3NfZGl2LmRhdGFzZXQucHJvamVjdF9maWxlO1xuICAgICAgICAoMCwgdXRpbHNfMS5nZXRfanNvbikocHJvamVjdF9maWxlLCAoc2VjdGlvbnMpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnN0cnVjdCBzZWN0aW9ucyBmcm9tIGpzb24gcmVzcG9uc2VcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBjdXN0b20gRmxhc2sgdXJsXG4gICAgICAgICAgICAgICAgbGV0IHZpZGVvID0gdGhpcy50aW1lbGluZV9zZWN0aW9uc1tpXS5kYXRhc2V0LnZpZGVvO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkX3NlY3Rpb24oc2VjdGlvbnNbaV0sIHZpZGVvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBbGwgJHtzZWN0aW9ucy5sZW5ndGh9IHNlY3Rpb25zIGhhdmUgYmVlbiBwYXJzZWQgc3VjY2Vzc2Z1bGx5LmApO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hfdGltZWxpbmUoKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoX2J1dHRvbnMoKTtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBhY3Rpb25cbiAgICAgICAgICAgIHRoaXMucGxheV9zZWN0aW9uKDApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gdXBkYXRlIGN1cnJlbnRseSBwbGF5aW5nIHZpZGVvIGluIGh0bWwgdmlkZW8gZWxlbWVudFxuICAgIHVwZGF0ZV92aWRlbygpIHtcbiAgICAgICAgdGhpcy5zZXRfYnV0dG9uX3BhdXNlKCk7XG4gICAgICAgIC8vIGNvcnJlY3Qgc2VjdGlvbiBhbHJlYWR5IGN1cnJlbnRcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudF9zZWN0aW9uID09IHRoaXMucHJldmlvdXNfc2VjdGlvbikge1xuICAgICAgICAgICAgLy8gcmVzdGFydCB2aWRlb1xuICAgICAgICAgICAgdGhpcy5nZXRfY3VycmVudF92aWRlbygpLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgICAgIHRoaXMuZ2V0X2N1cnJlbnRfdmlkZW8oKS5wbGF5KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1cnJlbnRfc2VjdGlvbl9lbGVtID0gdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnRfc2VjdGlvbl07XG4gICAgICAgIC8vIHN3YXAgdmlkZW9zXG4gICAgICAgIGxldCBsYXN0X2VsZW1lbnQgPSB0aGlzLmdldF9jdXJyZW50X3ZpZGVvKCk7XG4gICAgICAgIHRoaXMuY3VycmVudF92aWRlbyA9IHRoaXMuY3VycmVudF92aWRlbyA9PSAwID8gMSA6IDA7XG4gICAgICAgIGxldCBuZXh0X2VsZW1lbnQgPSB0aGlzLmdldF9jdXJyZW50X3ZpZGVvKCk7XG4gICAgICAgIC8vIGRvdWJsZSBidWZmZXJpbmc6IHNldHVwIG5ldyB2aWRlb1xuICAgICAgICBuZXh0X2VsZW1lbnQuc3JjID0gY3VycmVudF9zZWN0aW9uX2VsZW0uZ2V0X3NyY191cmwoKTtcbiAgICAgICAgbmV4dF9lbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgLy8gc2V0IGNhbGxiYWNrIGZvciB3aGVuIHZpZGVvIGhhcyBlbmRlZFxuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRfc2VjdGlvbl9lbGVtLmdldF90eXBlKCkpIHtcbiAgICAgICAgICAgIGNhc2Ugc2VjdGlvbl8xLlNlY3Rpb25UeXBlLlNLSVA6XG4gICAgICAgICAgICAgICAgbmV4dF9lbGVtZW50Lm9uZW5kZWQgPSAoXykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBnbyB0byBuZXh0IHNlY3Rpb24gd2l0aG91dCB1c2VyIGlucHV0XG4gICAgICAgICAgICAgICAgICAgICsrdGhpcy5jdXJyZW50X3NlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dF9zZWN0aW9uID0gdGhpcy5jdXJyZW50X3NlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlX3ZpZGVvKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc2VjdGlvbl8xLlNlY3Rpb25UeXBlLkxPT1A6XG4gICAgICAgICAgICAgICAgbmV4dF9lbGVtZW50Lm9uZW5kZWQgPSAoXykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXN0YXJ0IGZyb20gYmVnaW5uaW5nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlX3ZpZGVvKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugc2VjdGlvbl8xLlNlY3Rpb25UeXBlLkNPTVBMRVRFX0xPT1A6XG4gICAgICAgICAgICAgICAgbmV4dF9lbGVtZW50Lm9uZW5kZWQgPSAoXykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIG5leHQgc2VjdGlvbiBoYXMgY2hhbmdlZCwgZ28gdG8gbmV4dCBvbmVcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHJlc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50X3NlY3Rpb24gPSB0aGlzLm5leHRfc2VjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVfdmlkZW8oKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gU2VjdGlvblR5cGUuTk9STUFMXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcgPC0gd2FpdCBmb3IgdXNlciBpbnB1dFxuICAgICAgICAgICAgICAgIG5leHRfZWxlbWVudC5vbmVuZGVkID0gKF8pID0+IHsgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhgUGxheWluZyBzZWN0aW9uICcke2N1cnJlbnRfc2VjdGlvbl9lbGVtLmdldF9uYW1lKCl9J2ApO1xuICAgICAgICAvLyBoaWRlIG9sZCB2aWRlbyBvbmNlIG5ldyBvbmUgcGxheXNcbiAgICAgICAgbmV4dF9lbGVtZW50LnBsYXkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIHBhdXNlIG9sZCB2aWRlbyB0byBub3QgY2FsbCBvbmVuZGVkIGNhbGxiYWNrIGFnYWluIHdoZW4gdGhhdCB2aWRlbyBlbmRzIGluIGJhY2tncm91bmRcbiAgICAgICAgICAgIGxhc3RfZWxlbWVudC5wYXVzZSgpO1xuICAgICAgICAgICAgbGFzdF9lbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVfdGltZWxpbmUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVfc291cmNlKCk7XG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZG9uZSAtPiBzZWN0aW9uIGhhcyBjaGFuZ2VkXG4gICAgICAgIHRoaXMucHJldmlvdXNfc2VjdGlvbiA9IHRoaXMuY3VycmVudF9zZWN0aW9uO1xuICAgIH1cbiAgICAvLyBza2lwX2NvbXBsZXRlX2xvb3AgY2FuIGJlIHVzZWQgaW4gdGhlIHRpbWVsaW5lIG9yIGFzIGEgZm9yY2VkIGNvbnRpbnVlXG4gICAgcGxheV9zZWN0aW9uKHNlY3Rpb24sIHNraXBfY29tcGxldGVfbG9vcCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChzZWN0aW9uIDwgMCB8fCBzZWN0aW9uID49IHRoaXMuc2VjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUcnlpbmcgdG8gc3dpdGNoIHRvIGludmFsaWQgc2VjdGlvbiBpbmRleCAjJHtzZWN0aW9ufWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGBTd2l0Y2hpbmcgdG8gc2VjdGlvbiAnJHt0aGlzLnNlY3Rpb25zW3NlY3Rpb25dLmdldF9uYW1lKCl9J2ApO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50X3NlY3Rpb24gIT0gLTEgJiYgdGhpcy5zZWN0aW9uc1t0aGlzLmN1cnJlbnRfc2VjdGlvbl0uZ2V0X3R5cGUoKSA9PSBzZWN0aW9uXzEuU2VjdGlvblR5cGUuQ09NUExFVEVfTE9PUCAmJiAhc2tpcF9jb21wbGV0ZV9sb29wKSB7XG4gICAgICAgICAgICAvLyBpZiBjdXJyZW50IHNlY3Rpb24gaXMgY29tcGxldGUgbG9vcCwgd2FpdCB1bnRpbCBzZWN0aW9uIGZpbmlzaGVzXG4gICAgICAgICAgICB0aGlzLm5leHRfc2VjdGlvbiA9IHNlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbnN0YW50bHkgc3dpdGNoIHRoZSB2aWRlb1xuICAgICAgICAgICAgdGhpcy5uZXh0X3NlY3Rpb24gPSBzZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3NlY3Rpb24gPSBzZWN0aW9uO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVfdmlkZW8oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwbGF5X25leHRfc2VjdGlvbigpIHtcbiAgICAgICAgdGhpcy5wbGF5X3NlY3Rpb24odGhpcy5jdXJyZW50X3NlY3Rpb24gKyAxKTtcbiAgICB9XG4gICAgcmVzdGFydF9jdXJyZW50X3NlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucGxheV9zZWN0aW9uKHRoaXMuY3VycmVudF9zZWN0aW9uLCB0cnVlKTtcbiAgICB9XG4gICAgcGxheV9wcmV2aW91c19zZWN0aW9uKCkge1xuICAgICAgICAvLyBkb24ndCBmaW5pc2ggY29tcGxldGUgbG9vcHMgd2hlbiBnb2luZyBiYWNrXG4gICAgICAgIHRoaXMucGxheV9zZWN0aW9uKHRoaXMuY3VycmVudF9zZWN0aW9uIC0gMSwgdHJ1ZSk7XG4gICAgfVxuICAgIGdldF9jdXJyZW50X3NlY3Rpb24oKSB7IHJldHVybiB0aGlzLmN1cnJlbnRfc2VjdGlvbjsgfVxuICAgIGdldF9jdXJyZW50X3ZpZGVvKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50X3ZpZGVvID09IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlbzA7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvMTtcbiAgICB9XG4gICAgLy8vLy8vLy8vLy8vL1xuICAgIC8vIGNhY2hpbmcgLy9cbiAgICAvLy8vLy8vLy8vLy8vXG4gICAgLy8gYXN5bmNocm9ub3VzLCByZWN1cnNpdmU7IGRvd25sb2FkcyBldmVyeXRoaW5nIGFmdGVyIG9mZnNldCBpbiBiYXRjaGVzXG4gICAgY2FjaGVfYmF0Y2gob2Zmc2V0LCBvbl9maW5pc2hlZCkge1xuICAgICAgICBsZXQgZmluaXNoZWQgPSBvZmZzZXQ7XG4gICAgICAgIC8vIGNhY2hlIG9uZSB3aG9sZSBiYXRjaFxuICAgICAgICBmb3IgKGxldCBpID0gb2Zmc2V0LCBsZW4gPSBNYXRoLm1pbihvZmZzZXQgKyB0aGlzLmNhY2hlX2JhdGNoX3NpemUsIHRoaXMuc2VjdGlvbnMubGVuZ3RoKTsgaSA8IGxlbjsgKytpKVxuICAgICAgICAgICAgdGhpcy5zZWN0aW9uc1tpXS5jYWNoZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgKytmaW5pc2hlZDtcbiAgICAgICAgICAgICAgICAvLyBhbGwgZmluaXNoZWRcbiAgICAgICAgICAgICAgICBpZiAoZmluaXNoZWQgPT0gdGhpcy5zZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJhdGNoIGNhY2hpbmcgY29tcGxldGUgd2l0aCBvZmZzZXQgJHtvZmZzZXR9YCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FjaGluZyBjb21wbGV0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgb25fZmluaXNoZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV4dCBiYXRjaFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpbmlzaGVkID09IG9mZnNldCArIHRoaXMuY2FjaGVfYmF0Y2hfc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQmF0Y2ggY2FjaGluZyBjb21wbGV0ZSB3aXRoIG9mZnNldCAke29mZnNldH1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWNoZV9iYXRjaChmaW5pc2hlZCwgb25fZmluaXNoZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBhc3luY2hyb25vdXNcbiAgICBjYWNoZShvbl9maW5pc2hlZCkge1xuICAgICAgICB0aGlzLmNhY2hlX2JhdGNoKDAsIG9uX2ZpbmlzaGVkKTtcbiAgICB9XG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIGZ1bGxzY3JlZW4gLy9cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gVE9ETzogZG9lc24ndCB3b3JrIG9uIHNhZmFyaVxuICAgIGVudGVyX2Z1bGxzY3JlZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZGVvc19kaXYucmVxdWVzdEZ1bGxzY3JlZW4pXG4gICAgICAgICAgICB0aGlzLnZpZGVvc19kaXYucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgLy8gc2FmYXJpXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmlkZW9zX2Rpdi53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbilcbiAgICAgICAgICAgIHRoaXMudmlkZW9zX2Rpdi53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAvLyBpZTExXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmlkZW9zX2Rpdi5tc1JlcXVlc3RGdWxsc2NyZWVuKVxuICAgICAgICAgICAgdGhpcy52aWRlb3NfZGl2Lm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9XG4gICAgZXhpdF9mdWxsc2NyZWVuKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pXG4gICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAvLyBzYWZhcmlcbiAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pXG4gICAgICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAvLyBpZTExXG4gICAgICAgIGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pXG4gICAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgfVxuICAgIGZ1bGxzY3JlZW5fc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgIT0gbnVsbCB8fFxuICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgIT0gbnVsbCB8fFxuICAgICAgICAgICAgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgIT0gbnVsbDtcbiAgICB9XG4gICAgdG9nZ2xlX2Z1bGxzY3JlZW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmZ1bGxzY3JlZW5fc3RhdHVzKCkpXG4gICAgICAgICAgICB0aGlzLmV4aXRfZnVsbHNjcmVlbigpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmVudGVyX2Z1bGxzY3JlZW4oKTtcbiAgICB9XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyB1c2VyIGludGVyZmFjZSAvL1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgYXR0YWNoX3RpbWVsaW5lKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGltZWxpbmVfc2VjdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmVfc2VjdGlvbnNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlfc2VjdGlvbihpLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZV90aW1lbGluZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXNfc2VjdGlvbiAhPSAtMSlcbiAgICAgICAgICAgIHRoaXMudGltZWxpbmVfaW5kaWNhdG9yc1t0aGlzLnByZXZpb3VzX3NlY3Rpb25dLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cInRpbWVsaW5lLWluZGljYXRvcnMgYmktY2hlY2stY2lyY2xlXCIgcm9sZT1cImltZ1wiPjwvaT5gO1xuICAgICAgICB0aGlzLnRpbWVsaW5lX2luZGljYXRvcnNbdGhpcy5jdXJyZW50X3NlY3Rpb25dLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cInRpbWVsaW5lLWluZGljYXRvcnMgYmktY2lyY2xlLWZpbGxcIiByb2xlPVwiaW1nXCI+PC9pPmA7XG4gICAgICAgIHRoaXMudGltZWxpbmVfc2VjdGlvbnNbdGhpcy5jdXJyZW50X3NlY3Rpb25dLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIsIGJsb2NrOiBcImNlbnRlclwiIH0pO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgaWNvbiBvbiBidXR0b25cbiAgICBzZXRfYnV0dG9uX3BsYXkoKSB7XG4gICAgICAgIHRoaXMuYnV0dG9uX3Nob3VsZF9wYXVzZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBhdXNlX2J1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJiaS1wbGF5XCI+PC9pPic7XG4gICAgfVxuICAgIHNldF9idXR0b25fcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuYnV0dG9uX3Nob3VsZF9wYXVzZSA9IHRydWU7XG4gICAgICAgIHRoaXMucGF1c2VfYnV0dG9uLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImJpLXBhdXNlXCI+PC9pPic7XG4gICAgfVxuICAgIHBhdXNlKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlN0b3BwZWQuXCIpO1xuICAgICAgICB0aGlzLmdldF9jdXJyZW50X3ZpZGVvKCkucGF1c2UoKTtcbiAgICAgICAgdGhpcy5zZXRfYnV0dG9uX3BsYXkoKTtcbiAgICB9XG4gICAgcGxheSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdGFydGVkLlwiKTtcbiAgICAgICAgdGhpcy5nZXRfY3VycmVudF92aWRlbygpLnBsYXkoKTtcbiAgICAgICAgdGhpcy5zZXRfYnV0dG9uX3BhdXNlKCk7XG4gICAgfVxuICAgIHRvZ2dsZV9wYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYnV0dG9uX3Nob3VsZF9wYXVzZSlcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfVxuICAgIGF0dGFjaF9idXR0b25zKCkge1xuICAgICAgICBsZXQgcHJldmlvdXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByZXZpb3VzLXNlY3Rpb25cIik7XG4gICAgICAgIGxldCByZXN0YXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN0YXJ0LXNlY3Rpb25cIik7XG4gICAgICAgIGxldCBuZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXh0LXNlY3Rpb25cIik7XG4gICAgICAgIGxldCBwYXVzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGF1c2VcIik7XG4gICAgICAgIGxldCBmdWxsc2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmdWxsc2NyZWVuXCIpO1xuICAgICAgICBsZXQgY2FjaGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhY2hlXCIpO1xuICAgICAgICAvLyBhZGQgY2FsbGJhY2tzXG4gICAgICAgIHByZXZpb3VzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnBsYXlfcHJldmlvdXNfc2VjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgcmVzdGFydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5yZXN0YXJ0X2N1cnJlbnRfc2VjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgbmV4dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5wbGF5X25leHRfc2VjdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgcGF1c2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMudG9nZ2xlX3BhdXNlLmJpbmQodGhpcykpO1xuICAgICAgICBmdWxsc2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmVudGVyX2Z1bGxzY3JlZW4uYmluZCh0aGlzKSk7XG4gICAgICAgIGNhY2hlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAoMCwgdXRpbHNfMS5zcGluX2J1dHRvbikoY2FjaGUpO1xuICAgICAgICAgICAgdGhpcy5jYWNoZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FjaGUucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGNhbGxlZCBhZnRlciBzZWN0aW9uIGNoYW5nZWRcbiAgICAvLyB0byBiZSBvdmVyd3JpdHRlbiBpZiByZXF1aXJlZFxuICAgIHVwZGF0ZV9zb3VyY2UoKSB7IH1cbn1cbmV4cG9ydHMuUHJlc2VudGF0aW9uID0gUHJlc2VudGF0aW9uO1xuO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/presenter/presentation.ts\n");

/***/ }),

/***/ "./web_src/ts/presenter/section.ts":
/*!*****************************************!*\
  !*** ./web_src/ts/presenter/section.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Section = exports.get_section_type = exports.SectionType = void 0;\nvar SectionType;\n(function (SectionType) {\n    SectionType[SectionType[\"NORMAL\"] = 0] = \"NORMAL\";\n    SectionType[SectionType[\"LOOP\"] = 1] = \"LOOP\";\n    SectionType[SectionType[\"SKIP\"] = 2] = \"SKIP\";\n    SectionType[SectionType[\"COMPLETE_LOOP\"] = 3] = \"COMPLETE_LOOP\";\n})(SectionType = exports.SectionType || (exports.SectionType = {}));\nfunction get_section_type(str) {\n    switch (str) {\n        case \"presentation.normal\": return SectionType.NORMAL;\n        case \"presentation.loop\": return SectionType.LOOP;\n        case \"presentation.skip\": return SectionType.SKIP;\n        case \"presentation.complete_loop\": return SectionType.COMPLETE_LOOP;\n        default:\n            console.error(`Unsupported section type '${str}'`);\n            return SectionType.NORMAL;\n    }\n}\nexports.get_section_type = get_section_type;\nclass Section {\n    constructor(section, video) {\n        this.type = get_section_type(section.type);\n        this.name = section.name;\n        this.id = section.in_project_id;\n        // custom address from Flask\n        this.video = video;\n    }\n    cache(on_cached) {\n        let request = new XMLHttpRequest();\n        request.onload = () => {\n            if (request.status == 200 || request.status == 206) {\n                console.log(`Cached section '${this.name}'`);\n                on_cached();\n            }\n            else {\n                console.error(`Section '${this.name}' failed to be cached with status ${request.status}`);\n                // another attempt in 10 sec\n                window.setTimeout(() => {\n                    this.cache(on_cached);\n                }, 10000);\n            }\n        };\n        request.onerror = () => {\n            console.error(`Section '${this.name}' failed to be cached`);\n            // another attempt in 10 sec\n            window.setTimeout(() => {\n                this.cache(on_cached);\n            }, 10000);\n        };\n        request.open(\"GET\", this.video, true);\n        request.send();\n    }\n    get_type() { return this.type; }\n    get_name() { return this.name; }\n    get_id() { return this.id; }\n}\nexports.Section = Section;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL3ByZXNlbnRlci9zZWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL21hbmltX2VkaXRvci8uL3dlYl9zcmMvdHMvcHJlc2VudGVyL3NlY3Rpb24udHM/ZmNmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VjdGlvbiA9IGV4cG9ydHMuZ2V0X3NlY3Rpb25fdHlwZSA9IGV4cG9ydHMuU2VjdGlvblR5cGUgPSB2b2lkIDA7XG52YXIgU2VjdGlvblR5cGU7XG4oZnVuY3Rpb24gKFNlY3Rpb25UeXBlKSB7XG4gICAgU2VjdGlvblR5cGVbU2VjdGlvblR5cGVbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgU2VjdGlvblR5cGVbU2VjdGlvblR5cGVbXCJMT09QXCJdID0gMV0gPSBcIkxPT1BcIjtcbiAgICBTZWN0aW9uVHlwZVtTZWN0aW9uVHlwZVtcIlNLSVBcIl0gPSAyXSA9IFwiU0tJUFwiO1xuICAgIFNlY3Rpb25UeXBlW1NlY3Rpb25UeXBlW1wiQ09NUExFVEVfTE9PUFwiXSA9IDNdID0gXCJDT01QTEVURV9MT09QXCI7XG59KShTZWN0aW9uVHlwZSA9IGV4cG9ydHMuU2VjdGlvblR5cGUgfHwgKGV4cG9ydHMuU2VjdGlvblR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gZ2V0X3NlY3Rpb25fdHlwZShzdHIpIHtcbiAgICBzd2l0Y2ggKHN0cikge1xuICAgICAgICBjYXNlIFwicHJlc2VudGF0aW9uLm5vcm1hbFwiOiByZXR1cm4gU2VjdGlvblR5cGUuTk9STUFMO1xuICAgICAgICBjYXNlIFwicHJlc2VudGF0aW9uLmxvb3BcIjogcmV0dXJuIFNlY3Rpb25UeXBlLkxPT1A7XG4gICAgICAgIGNhc2UgXCJwcmVzZW50YXRpb24uc2tpcFwiOiByZXR1cm4gU2VjdGlvblR5cGUuU0tJUDtcbiAgICAgICAgY2FzZSBcInByZXNlbnRhdGlvbi5jb21wbGV0ZV9sb29wXCI6IHJldHVybiBTZWN0aW9uVHlwZS5DT01QTEVURV9MT09QO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5zdXBwb3J0ZWQgc2VjdGlvbiB0eXBlICcke3N0cn0nYCk7XG4gICAgICAgICAgICByZXR1cm4gU2VjdGlvblR5cGUuTk9STUFMO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0X3NlY3Rpb25fdHlwZSA9IGdldF9zZWN0aW9uX3R5cGU7XG5jbGFzcyBTZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihzZWN0aW9uLCB2aWRlbykge1xuICAgICAgICB0aGlzLnR5cGUgPSBnZXRfc2VjdGlvbl90eXBlKHNlY3Rpb24udHlwZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IHNlY3Rpb24ubmFtZTtcbiAgICAgICAgdGhpcy5pZCA9IHNlY3Rpb24uaW5fcHJvamVjdF9pZDtcbiAgICAgICAgLy8gY3VzdG9tIGFkZHJlc3MgZnJvbSBGbGFza1xuICAgICAgICB0aGlzLnZpZGVvID0gdmlkZW87XG4gICAgfVxuICAgIGNhY2hlKG9uX2NhY2hlZCkge1xuICAgICAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PSAyMDAgfHwgcmVxdWVzdC5zdGF0dXMgPT0gMjA2KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYENhY2hlZCBzZWN0aW9uICcke3RoaXMubmFtZX0nYCk7XG4gICAgICAgICAgICAgICAgb25fY2FjaGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTZWN0aW9uICcke3RoaXMubmFtZX0nIGZhaWxlZCB0byBiZSBjYWNoZWQgd2l0aCBzdGF0dXMgJHtyZXF1ZXN0LnN0YXR1c31gKTtcbiAgICAgICAgICAgICAgICAvLyBhbm90aGVyIGF0dGVtcHQgaW4gMTAgc2VjXG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlKG9uX2NhY2hlZCk7XG4gICAgICAgICAgICAgICAgfSwgMTAwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTZWN0aW9uICcke3RoaXMubmFtZX0nIGZhaWxlZCB0byBiZSBjYWNoZWRgKTtcbiAgICAgICAgICAgIC8vIGFub3RoZXIgYXR0ZW1wdCBpbiAxMCBzZWNcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlKG9uX2NhY2hlZCk7XG4gICAgICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB0aGlzLnZpZGVvLCB0cnVlKTtcbiAgICAgICAgcmVxdWVzdC5zZW5kKCk7XG4gICAgfVxuICAgIGdldF90eXBlKCkgeyByZXR1cm4gdGhpcy50eXBlOyB9XG4gICAgZ2V0X25hbWUoKSB7IHJldHVybiB0aGlzLm5hbWU7IH1cbiAgICBnZXRfaWQoKSB7IHJldHVybiB0aGlzLmlkOyB9XG59XG5leHBvcnRzLlNlY3Rpb24gPSBTZWN0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/presenter/section.ts\n");

/***/ }),

/***/ "./web_src/ts/utils.ts":
/*!*****************************!*\
  !*** ./web_src/ts/utils.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.spin_button = exports.flash = exports.get_json = exports.send_json = void 0;\n// send json via POST and parse json resonse\nfunction send_json(url, payload, callback) {\n    let request = new XMLHttpRequest();\n    request.onload = () => {\n        if (request.status == 200)\n            callback(JSON.parse(request.responseText));\n        else\n            console.error(`Failed POST to '${url}' with status ${request.status}.`);\n    };\n    request.onerror = () => {\n        console.error(`Failed to POST to '${url}'.`);\n    };\n    request.open(\"POST\", url, true);\n    request.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n    request.send(JSON.stringify(payload));\n}\nexports.send_json = send_json;\n// download file and parse json\nfunction get_json(url, callback) {\n    let request = new XMLHttpRequest();\n    request.onload = () => {\n        if (request.status == 200)\n            callback(JSON.parse(request.responseText));\n        else\n            console.error(`Failed to load json '${url}' with status ${request.status}`);\n    };\n    request.onerror = () => {\n        console.error(`Failed to load json '${url}'`);\n    };\n    request.open(\"GET\", url, true);\n    request.send();\n}\nexports.get_json = get_json;\n// front end implementation of flasks flash function\nfunction flash(message, category) {\n    let flashes = document.getElementById(\"flashes\");\n    let wrapper = document.createElement(\"div\");\n    flashes.appendChild(wrapper);\n    wrapper.innerHTML =\n        `<div class=\"alert alert-${category} alert-dismissible fade show mt-3\" role=\"alert\">\n            ${message}\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n         </div>`;\n}\nexports.flash = flash;\n// add loading spinner to button\n// deletes innerText of button -> can't be undone\nfunction spin_button(button) {\n    button.disabled = true;\n    button.innerText = \"\";\n    let spinner = document.createElement(\"div\");\n    button.appendChild(spinner);\n    spinner.innerHTML =\n        `<div>\n            <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            Loading...\n        </div>`;\n}\nexports.spin_button = spin_button;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi93ZWJfc3JjL3RzL3V0aWxzLnRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tYW5pbV9lZGl0b3IvLi93ZWJfc3JjL3RzL3V0aWxzLnRzPzE3YTkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNwaW5fYnV0dG9uID0gZXhwb3J0cy5mbGFzaCA9IGV4cG9ydHMuZ2V0X2pzb24gPSBleHBvcnRzLnNlbmRfanNvbiA9IHZvaWQgMDtcbi8vIHNlbmQganNvbiB2aWEgUE9TVCBhbmQgcGFyc2UganNvbiByZXNvbnNlXG5mdW5jdGlvbiBzZW5kX2pzb24odXJsLCBwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PSAyMDApXG4gICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCBQT1NUIHRvICcke3VybH0nIHdpdGggc3RhdHVzICR7cmVxdWVzdC5zdGF0dXN9LmApO1xuICAgIH07XG4gICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gUE9TVCB0byAnJHt1cmx9Jy5gKTtcbiAgICB9O1xuICAgIHJlcXVlc3Qub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIik7XG4gICAgcmVxdWVzdC5zZW5kKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcbn1cbmV4cG9ydHMuc2VuZF9qc29uID0gc2VuZF9qc29uO1xuLy8gZG93bmxvYWQgZmlsZSBhbmQgcGFyc2UganNvblxuZnVuY3Rpb24gZ2V0X2pzb24odXJsLCBjYWxsYmFjaykge1xuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PSAyMDApXG4gICAgICAgICAgICBjYWxsYmFjayhKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIGpzb24gJyR7dXJsfScgd2l0aCBzdGF0dXMgJHtyZXF1ZXN0LnN0YXR1c31gKTtcbiAgICB9O1xuICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQganNvbiAnJHt1cmx9J2ApO1xuICAgIH07XG4gICAgcmVxdWVzdC5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG4gICAgcmVxdWVzdC5zZW5kKCk7XG59XG5leHBvcnRzLmdldF9qc29uID0gZ2V0X2pzb247XG4vLyBmcm9udCBlbmQgaW1wbGVtZW50YXRpb24gb2YgZmxhc2tzIGZsYXNoIGZ1bmN0aW9uXG5mdW5jdGlvbiBmbGFzaChtZXNzYWdlLCBjYXRlZ29yeSkge1xuICAgIGxldCBmbGFzaGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbGFzaGVzXCIpO1xuICAgIGxldCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBmbGFzaGVzLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICAgIHdyYXBwZXIuaW5uZXJIVE1MID1cbiAgICAgICAgYDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC0ke2NhdGVnb3J5fSBhbGVydC1kaXNtaXNzaWJsZSBmYWRlIHNob3cgbXQtM1wiIHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgJHttZXNzYWdlfVxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4tY2xvc2VcIiBkYXRhLWJzLWRpc21pc3M9XCJhbGVydFwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiPjwvYnV0dG9uPlxuICAgICAgICAgPC9kaXY+YDtcbn1cbmV4cG9ydHMuZmxhc2ggPSBmbGFzaDtcbi8vIGFkZCBsb2FkaW5nIHNwaW5uZXIgdG8gYnV0dG9uXG4vLyBkZWxldGVzIGlubmVyVGV4dCBvZiBidXR0b24gLT4gY2FuJ3QgYmUgdW5kb25lXG5mdW5jdGlvbiBzcGluX2J1dHRvbihidXR0b24pIHtcbiAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGJ1dHRvbi5pbm5lclRleHQgPSBcIlwiO1xuICAgIGxldCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBidXR0b24uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgc3Bpbm5lci5pbm5lckhUTUwgPVxuICAgICAgICBgPGRpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIiByb2xlPVwic3RhdHVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPlxuICAgICAgICAgICAgTG9hZGluZy4uLlxuICAgICAgICA8L2Rpdj5gO1xufVxuZXhwb3J0cy5zcGluX2J1dHRvbiA9IHNwaW5fYnV0dG9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./web_src/ts/utils.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./web_src/ts/edit_project.ts");
/******/ 	
/******/ })()
;